"use strict";(self.webpackChunkewarehouse=self.webpackChunkewarehouse||[]).push([[947],{99947:(fe,y,p)=>{p.r(y),p.d(y,{ComplaintManagementModule:()=>re});var R=p(69862),M=p(76472),W=p(2639),Y=p(61420),V=p(60420),Q=p(32267),g=p(56223),B=p(60577),v=p(96814),Z=p(81303),t=p(65879);let I=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-complaint-management"]],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"router-outlet")},dependencies:[Z.lC]})}return i})();var H=p(13519),c=p.n(H),u=p(20553),x=p(39007),A=p(77874),D=p(75438),U=p(78889),T=p(89515),q=p(66755),k=p(84775),j=p(88663),$=p(68167);function G(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",34),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.gotoadd("0:0:"+n.linkId))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Add")))}function K(i,l){1&i&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Action")))}function z(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"County of Warehouse"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selCountyofWarehouseVal)}}function X(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Sub-County of Warehouse"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selSubCountyofWarehouseVal)}}function tt(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Warehouse Shop Name"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selWarehouseShopNameVal)}}function et(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Warehouse Operator"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtWarehouseOperator)}}function nt(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Name of Grader"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofGraderVal)}}function it(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Name of Collateral Manager"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofCollateralManagerVal)}}function ot(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Name of Inspector"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofInspectorVal)}}function at(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Type of Complain"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selTypeofComplainVal)}}function lt(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Date of Incident"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtDateofIncident)}}function rt(i,l){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53)(2,"p",54),t._uU(3,"Description of Incident"),t.qZA(),t.TgZ(4,"p",55),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtrDescriptionofIncident)}}function st(i,l){if(1&i&&(t.TgZ(0,"div",51)(1,"div",52)(2,"div",53)(3,"p",54),t._uU(4,"Full Name"),t.qZA(),t.TgZ(5,"p",55),t._uU(6),t.qZA()()(),t.TgZ(7,"div",52)(8,"div",53)(9,"p",54),t._uU(10,"Contact Number"),t.qZA(),t.TgZ(11,"p",55),t._uU(12),t.qZA()()(),t.TgZ(13,"div",52)(14,"div",53)(15,"p",54),t._uU(16,"Email Address"),t.qZA(),t.TgZ(17,"p",55),t._uU(18),t.qZA()()(),t.TgZ(19,"div",52)(20,"div",53)(21,"p",54),t._uU(22,"Address"),t.qZA(),t.TgZ(23,"p",55),t._uU(24),t.qZA()()(),t.TgZ(25,"div",52)(26,"div",53)(27,"p",54),t._uU(28,"County"),t.qZA(),t.TgZ(29,"p",55),t._uU(30),t.qZA()()(),t.TgZ(31,"div",52)(32,"div",53)(33,"p",54),t._uU(34,"Sub County"),t.qZA(),t.TgZ(35,"p",55),t._uU(36),t.qZA()()(),t.TgZ(37,"h5",47),t._uU(38,"Complaint Details"),t.qZA(),t.TgZ(39,"div",52)(40,"div",53)(41,"p",54),t._uU(42,"Complaint Against"),t.qZA(),t.TgZ(43,"p",55),t._uU(44),t.qZA()()(),t.YNc(45,z,6,1,"div",56),t.YNc(46,X,6,1,"div",56),t.YNc(47,tt,6,1,"div",56),t.YNc(48,et,6,1,"div",56),t.YNc(49,nt,6,1,"div",56),t.YNc(50,it,6,1,"div",56),t.YNc(51,ot,6,1,"div",56),t.YNc(52,at,6,1,"div",56),t.YNc(53,lt,6,1,"div",56),t.YNc(54,rt,6,1,"div",56),t.qZA()),2&i){const e=l.$implicit;t.xp6(6),t.Oqu(e.txtFullName?e.txtFullName:"---"),t.xp6(6),t.Oqu(e.txtContactNumber?e.txtContactNumber:"---"),t.xp6(6),t.Oqu(e.txtEmailAddress?e.txtEmailAddress:"---"),t.xp6(6),t.Oqu(e.txtrAddress?e.txtrAddress:"---"),t.xp6(6),t.Oqu(e.selCountyVal),t.xp6(6),t.Oqu(e.selSubCountyVal),t.xp6(8),t.Oqu(e.rdoComplaintAgainstVal),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","103"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","102"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst)}}function mt(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",57),t._UZ(5,"img",58),t._uU(6),t.qZA()()()),2&i){const e=l.$implicit,o=t.oxw(4);t.xp6(2),t.Oqu(e.amtxtDocumentName),t.xp6(2),t.hYB("href","",o.serviceURL,"complaint-management/complaint-management/download/",e.amfileUploadDocuments,"",t.LSH),t.xp6(2),t.AsE("",e.amtxtDocumentName,".",e.amfileUploadDocuments.split(".").pop(),"")}}function ct(i,l){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,mt,7,5,"tr",41),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("ngForOf",e.addMoreSupportingDocuments)}}function pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.deleteData(n.intId))}),t._UZ(1,"i",63),t.qZA()}}function dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.showHistoryData(n.intProcessId,n.intId,0,n.rdoComplaintAgainst))}),t._UZ(2,"i",60),t.qZA(),t.YNc(3,pt,2,0,"a",61),t.qZA()}if(2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(3),t.Q6J("ngIf",1==o.permissiondelete&&0==e.notingCount)}}function gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",44),t.NdJ("click",function(){const a=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.previewDetails(a.intId))}),t._uU(5),t.qZA(),t.TgZ(6,"div",45)(7,"div",18)(8,"div",19)(9,"div",20)(10,"h5",46),t._uU(11,"Preview Details"),t.qZA(),t._UZ(12,"button",22),t.qZA(),t.TgZ(13,"div",23)(14,"h5",47),t._uU(15,"Complainant's Information"),t.qZA(),t.YNc(16,st,55,17,"div",48),t.TgZ(17,"h5",47),t._uU(18,"Supporting Documents"),t.qZA(),t.TgZ(19,"div",35)(20,"table",49)(21,"thead")(22,"tr")(23,"th"),t._uU(24,"Document Name"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Upload Documents"),t.qZA()()(),t.YNc(27,ct,2,1,"tbody",41),t.qZA()()()()()()(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"replaceUnderscore"),t.qZA(),t.YNc(38,dt,4,1,"td",50),t.qZA()}if(2&i){const e=l.$implicit,o=l.index,n=t.oxw(2);t.xp6(2),t.Oqu(o+1+n.indexNumber),t.xp6(2),t.uIk("data-bs-target","#previewModal"+o),t.xp6(1),t.Oqu(e.complaintNo),t.xp6(1),t.MGl("id","previewModal",o,""),t.xp6(10),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(11),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(2),t.Oqu(t.xi3(30,11,e.txtDateofIncident,"dd-MMM-yyyy")),t.xp6(3),t.Oqu(e.selTypeofComplainVal),t.xp6(2),t.Oqu(e.pendingATUser),t.xp6(2),t.Oqu(t.lcZ(37,14,e.applicationStatus)),t.xp6(2),t.Q6J("ngIf",1==n.permissionedit||1==n.permissiondelete)}}const ut=function(i,l,e){return{itemsPerPage:i,currentPage:l,totalItems:e}};function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",35)(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th",38),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",38),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",38),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",38),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",39),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.YNc(23,K,3,3,"th",40),t.qZA()(),t.TgZ(24,"tbody"),t.YNc(25,gt,39,16,"tr",41),t.ALo(26,"paginate"),t.qZA()()(),t.TgZ(27,"div",42)(28,"pagination-controls",43),t.NdJ("pageChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.onTableDataChange(n))}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,8,"Sl#")),t.xp6(3),t.Oqu(t.lcZ(10,10,"Complaint No.")),t.xp6(3),t.Oqu(t.lcZ(13,12,"Date of incident")),t.xp6(3),t.Oqu(t.lcZ(16,14,"Complaint Category")),t.xp6(3),t.Oqu(t.lcZ(19,16,"Pending At")),t.xp6(3),t.Oqu(t.lcZ(22,18,"Application Status")),t.xp6(2),t.Q6J("ngIf",1==e.permissionedit||1==e.permissiondelete),t.xp6(2),t.Q6J("ngForOf",t.xi3(26,20,e.complaint_managementlist,t.kEZ(23,ut,e.tableSize,e.page,e.count)))}}function _t(i,l){if(1&i&&(t.TgZ(0,"div",65)(1,"p",66)(2,"strong"),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"p",67)(6,"strong"),t._uU(7,"Remark :\xa0 "),t.qZA(),t.TgZ(8,"span",68),t._uU(9,"demo"),t.qZA()()()),2&i){const e=l.$implicit;t.xp6(3),t.AsE("Action Taken By : ",e.roleName?e.roleName:"Applicant"," , On : ",t.xi3(4,3,e.dtActionTaken,"dd MMM yyyy h:mm a")," "),t.xp6(5),t.Q6J("innerHTML",e.txtNoting,t.oJD)}}function ft(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,_t,10,6,"div",64),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.resubmitHistory)}}function Ct(i,l){1&i&&(t.TgZ(0,"h6",69),t._uU(1,"Data Not Found"),t.qZA())}function vt(i,l){if(1&i&&(t.TgZ(0,"div",73)(1,"div",75)(2,"div",76)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",77),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.txtNoting),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dtActionTaken,"dd MMM yyyy ,h:mm a"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function xt(i,l){if(1&i&&(t.TgZ(0,"div",73)(1,"div",75)(2,"div",76)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",77),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.txtNoting),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dtActionTaken,"dd MMM yyyy ,h:mm a"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function At(i,l){if(1&i&&(t.TgZ(0,"div",70)(1,"div",71),t.YNc(2,vt,15,6,"div",72),t.TgZ(3,"div",73)(4,"p",74),t._uU(5),t.qZA()(),t.YNc(6,xt,15,6,"div",72),t.qZA()()),2&i){const e=l.$implicit,o=l.index;t.xp6(1),t.Q6J("ngClass",o%2==0?"timeline-left":"timeline-right"),t.xp6(1),t.Q6J("ngIf",o%2==0),t.xp6(3),t.hij(" ",e.vchRolename?e.vchRolename:"Applicant"," "),t.xp6(1),t.Q6J("ngIf",o%2!=0)}}let w=(()=>{class i{constructor(e,o,n,a,m,d,r,h,C){this.fb=e,this.route=o,this.admincomponent=n,this.router=a,this.commonService=m,this.translate=d,this.vldChkLst=r,this.encDec=h,this.workflowService=C,this.complaint_managementlistPreview=[],this.page=1,this.count=0,this.tableSize=10,this.indexNumber=0,this.pageSizes=[10,20,50,100,500,1e3],this.serviceURL=u.N.serviceURL,this.title="Complaint Management",this.formName="complaint_management/",this.userid=0,this.storaheurl=u.N.fileURL,this.verifystatichidtory=[],this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let s=JSON.parse(this.sessiontoken);this.userid=s.USER_ROLE,this.userIntId=s.USER_ID,this.complaint_management=this.fb.group({intId:"",txtFullName:"",txtContactNumber:""})}ngOnInit(){this.admincomponent.ngOnInit(),this.commonService.localEvent.subscribe(o=>this.translate.use(o));let e=this.router.snapshot.paramMap.get("id");if(""!=e){let n=this.encDec.decText(e).split(":");this.linkId=n[0]}this.viewAllData(this.page,this.tableSize),this.linkId>0&&this.getRoleWisePermissionDetails(this.linkId,this.userid,this.userIntId)}gotoView(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/viewcomplaint-management",o],{state:a})}gotoadd(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/addcomplaint-management",o],{state:a})}getRoleWisePermissionDetails(e,o,n){this.commonService.getRoleWisePermissionDetails({linkId:e,RoleId:o,userId:n}).subscribe(m=>{if(200==m.status){let d=m.result;console.log(d),this.permissionadd=d.add,this.permissionview=d.view,this.permissionedit=d.edit,this.permissiondelete=d.delete,this.permissionpublish=d.publish}else 417==m.status?c().fire({icon:"error",text:m.msg}):c().fire({icon:"error",text:"Something Went Wrong!"})},m=>{c().fire({icon:"error",text:m})})}viewAllData(e,o){let n={intId:0,pageNo:e,size:o,intCreatedBy:this.userIntId.toString()};this.commonService.viewAll(n,"complaint-management/complaint-management/all").subscribe(a=>{let m=a.RESPONSE_DATA;a.RESPONSE_TOKEN==A.HmacSHA256(m,u.N.apiHashingKey).toString()?(a=x.lW.from(m,"base64"),200==(a=JSON.parse(a.toString())).status?(this.complaint_managementlist=a.result,console.log(this.complaint_managementlist),this.count=a.count):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},a=>{c().fire({icon:"error",text:a})})}onTableDataChange(e){this.page=e,this.indexNumber=(this.page-1)*this.tableSize,this.viewAllData(this.page,this.tableSize)}onTableSizeChange(e){this.tableSize=e.target.value,this.indexNumber=0,this.page=1}viewSearchList(){this.complaint_managementlist=[],this.commonService.viewAll(this.complaint_management.value,"complaint-management/complaint-management/all").subscribe(e=>{let o=e.RESPONSE_DATA;e.RESPONSE_TOKEN==A.HmacSHA256(o,u.N.apiHashingKey).toString()?(e=x.lW.from(o,"base64"),200==(e=JSON.parse(e.toString())).status?(this.complaint_managementlist=e.result,this.count=0,this.complaint_management.reset()):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},e=>{c().fire({icon:"error",text:e})})}previewDetails(e){this.complaint_managementlistPreview=[],this.commonService.viewAll({intId:e},"complaint-management/complaint-management/preview").subscribe(n=>{let a=n.RESPONSE_DATA;n.RESPONSE_TOKEN==A.HmacSHA256(a,u.N.apiHashingKey).toString()?(n=x.lW.from(a,"base64"),200==(n=JSON.parse(n.toString())).status?this.complaint_managementlistPreview.push(n.result):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},n=>{c().fire({icon:"error",text:n})})}deleteData(e){let o={intId:e};c().fire({title:"Are you sure?",text:"You Want to Delete This Record!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.commonService.deleteRecord(o,"complaint-management/complaint-management/delete").subscribe(a=>{let m=a.RESPONSE_DATA;a.RESPONSE_TOKEN==A.HmacSHA256(m,u.N.apiHashingKey).toString()?(a=x.lW.from(m,"base64"),200==(a=JSON.parse(a.toString())).status?(c().fire("Deleted!","Successfully!","success"),this.viewAllData(this.page,this.tableSize)):c().fire({icon:"error",text:"Error In Database!"})):c().fire({icon:"error",text:"Invalid Response"})},a=>{c().fire({icon:"error",text:a})})})}goToQuery(e,o){let a=this.encDec.encText(e+":"+o+":"+this.route.url);this.route.navigateByUrl("web/webquery-reply/"+a)}goToResubmit(e,o,n){let a=this.encDec.encText(e+":"+n.toString()+":"+o);this.route.navigate(["admin/complaint-management/complaint-management/",a])}showAllResubmit(e,o){this.resubmitHistory=[],this.workflowService.noResubmitHistory({processId:e,serviceId:o},"noResubmitStatus").subscribe(a=>{let m=a.RESPONSE_DATA;if(a.RESPONSE_TOKEN==A.HmacSHA256(m,u.N.apiHashingKey).toString()){let h=x.lW.from(m,"base64");h=JSON.parse(h.toString()),200==h.status?this.resubmitHistory=h.result:417==h.status&&c().fire({icon:"error",text:"invalid Request"})}else c().fire({icon:"error",text:"something went Wrong"})})}editData(e){let o=this.encDec.encText(e.toString());this.route.navigate(["admin/complaint-management/complaint-management",o])}showHistoryData(e,o,n,a){this.workflowService.getNotingList({intId:e,onlineServiceId:o,roleId:n,lableId:a},"getNotingDetails").subscribe(d=>{let r=d.RESPONSE_DATA;if(d.RESPONSE_TOKEN==A.HmacSHA256(r,u.N.apiHashingKey).toString()){let s=x.lW.from(r,"base64");s=JSON.parse(s.toString()),200==s.status?(this.notingList=s.result,console.log(this.notingList),this.verifystatichidtory=this.notingList[0].verifyDocuments):c().fire({icon:"error",text:"Something Went Wrong!"})}else c().fire({icon:"error",text:"Unauthorised Response"})},d=>{c().fire({icon:"error",text:d})})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(g.qu),t.Y36(Z.F0),t.Y36(D._),t.Y36(Z.gz),t.Y36(U.R),t.Y36(T.sK),t.Y36(q._),t.Y36(k.q),t.Y36(j.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-viewcomplaint-management"]],decls:55,vars:16,consts:[[1,"page-title"],["id","AdminTab",1,"nav","nav-tabs"],[1,"nav-item"],["class","nav-link","aria-current","page",3,"click",4,"ngIf"],[1,"nav-link","active",3,"click"],[1,"tab-content"],[1,"search-section"],[3,"formGroup"],[1,"row"],[1,"col-12","col-md-3","col-lg-3"],["type","text","placeholder","Enter Complaint No.","formControlName","txtFullName",1,"form-control"],[1,"form-group"],["type","text","placeholder","Enter Contact Number","formControlName","txtContactNumber",1,"form-control"],[1,"d-grid","gap-2","d-sm-flex"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-orange",3,"click"],[4,"ngIf","ngIfElse"],["id","dochistoryModal","tabindex","-1","aria-labelledby","dochistoryModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","dochistoryModalLabel",1,"modal-title","mb-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","viewTable",1,"action-history"],["norecord",""],["id","view-history-Modal","tabindex","-1","aria-labelledby","view-historyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-scrollable"],["id","pledging-dischargeModalLabel",1,"modal-title"],[1,"timeline"],[1,"timeline-container"],["class","timeline-continue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["aria-current","page",1,"nav-link",3,"click"],[1,"table-responsive"],["data-toggle","table",1,"table"],["scope","col","width","40px"],["scope","col"],["scope","col","width","100px",1,"noPrint"],["scope","col","class","noPrint","width","100px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],["href","javascript:void(0)","data-bs-toggle","modal",1,"text-primary",3,"click"],["tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],["id","previewModalLabel",1,"modal-title","mb-0"],[1,"app-heading","mb-4"],["class","row g-4 mb-5",4,"ngFor","ngForOf"],[1,"table"],[4,"ngIf"],[1,"row","g-4","mb-5"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-6","col-xs-12"],[1,"appl-details"],[1,"title"],[1,"name"],["class","col-xl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12",4,"ngIf"],[3,"href"],["src","../../../assets/img/pdf.png","alt",""],["title","View Action History","data-bs-toggle","modal","data-bs-target","#view-history-Modal",1,"text-success","me-3",3,"click"],[1,"bi","bi-eye"],["class","text-danger","title","Delete",3,"click",4,"ngIf"],["title","Delete",1,"text-danger",3,"click"],[1,"bi","bi-trash3"],["class","border p-2 mb-2 bg-light",4,"ngFor","ngForOf"],[1,"border","p-2","mb-2","bg-light"],[1,"mb-2"],[1,"mb-0","d-flex"],[1,"remarkdetails",3,"innerHTML"],[1,"no-content","border"],[1,"timeline-continue"],[1,"row",3,"ngClass"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[1,"timeline-date"],[1,"timeline-box"],[1,"timeline-text"],[1,"badge","text-bg-success"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"ul",1)(5,"li",2),t.YNc(6,G,3,3,"a",3),t.qZA(),t.TgZ(7,"li",2)(8,"a",4),t.NdJ("click",function(){return n.gotoView(n.linkId)}),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",5)(12,"div",6)(13,"form",7)(14,"div",8)(15,"div",9),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"div",9)(18,"div",11),t._UZ(19,"input",12),t.qZA()(),t.TgZ(20,"div",9)(21,"div",13)(22,"button",14),t.NdJ("click",function(){return n.viewSearchList()}),t._uU(23," Show"),t.qZA(),t._uU(24,"\xa0 "),t.TgZ(25,"button",15),t.NdJ("click",function(){return n.viewAllData(n.page,n.tableSize)}),t._uU(26," Reset"),t.qZA()()()()()(),t.YNc(27,ht,29,27,"div",16),t.qZA(),t.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"button",22),t.qZA(),t.TgZ(36,"div",23)(37,"div",24),t.YNc(38,ft,2,1,"div",16),t.YNc(39,Ct,2,0,"ng-template",null,25,t.W1O),t.qZA()()()()(),t.TgZ(41,"div",26)(42,"div",27)(43,"div",19)(44,"div",20)(45,"h5",28),t._uU(46,"View History"),t.qZA(),t._UZ(47,"button",22),t.qZA(),t.TgZ(48,"div",23)(49,"div",29)(50,"div",30),t.YNc(51,At,7,4,"div",31),t.qZA()()(),t.TgZ(52,"div",32)(53,"button",33),t._uU(54,"Close"),t.qZA()()()()()),2&o){const a=t.MAs(40);t.xp6(2),t.Oqu(t.lcZ(3,10,n.title)),t.xp6(4),t.Q6J("ngIf",1==n.permissionadd),t.xp6(3),t.Oqu(t.lcZ(10,12,"View")),t.xp6(4),t.Q6J("formGroup",n.complaint_management),t.xp6(14),t.Q6J("ngIf",n.complaint_managementlist.length>0)("ngIfElse",a),t.xp6(6),t.Oqu(t.lcZ(34,14,"History Details")),t.xp6(5),t.Q6J("ngIf",(null==n.resubmitHistory?null:n.resubmitHistory.length)>0)("ngIfElse",a),t.xp6(13),t.Q6J("ngForOf",n.notingList)}},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,M.LS,v.mk,v.sg,v.O5,M._s,T.X$,v.uU,$.A],styles:['.search-section[_ngcontent-%COMP%]{background-color:#da90000d;padding:1rem;margin:1rem 0rem 2rem;border:1px dashed #ddd;border-radius:.5rem}.stepper[_ngcontent-%COMP%]{width:100%;margin:2rem 0rem 3rem}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;position:relative;text-align:center;display:table-cell}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f633";font-family:bootstrap-icons!important;width:25px;height:25px;line-height:25px;border:1px solid #ddd;border-radius:100%;display:block;text-align:center;margin:0 auto 10px;background-color:#d7d7d7;color:#6e6e6e;z-index:1;position:relative}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;top:13px;left:-50%;border-bottom:2px dotted rgba(0,19,0,.07)}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#22a851}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{background:#22a851;color:#fff;border:#22a851}@media (max-width: 1440px){.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 .8rem}}@media (max-width: 991px){.stepper[_ngcontent-%COMP%]{overflow:auto}.stepper_item[_ngcontent-%COMP%]{table-layout:auto}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:120px}}.timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:30px 0}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;width:100%}.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:100%;top:0;left:50%;margin-left:-1px;background:#dddddd}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{left:0%}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:left}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{font-size:14px;margin:41px 0 0;font-weight:600;position:relative}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{margin:0 0 0 16px}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:14px;height:14px;top:0;background:linear-gradient(#dddddd,#4d4e4f);box-shadow:0 0 5px #0006;border-radius:15px;z-index:1}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:101%}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-23px}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-4%}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:15px;padding:20px;border:1px solid #dddddd;border-radius:6px;background:#ffffff;width:95%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{width:100%;margin:15px 0;padding:0;border:none;text-align:center;background:transparent}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{display:none}}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:100%}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{right:100%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:50%;margin-left:-10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:26px;border-color:transparent transparent transparent #ffffff;border-width:10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:25px;border-color:transparent transparent transparent #dddddd;border-width:11px}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{border-color:transparent #ffffff transparent transparent}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{border-color:transparent #dddddd transparent transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:-20px;border-color:transparent transparent #dddddd transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:-19px;border-color:transparent transparent #ffffff transparent;border-width:10px;z-index:1}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{position:relative;width:calc(100% - 40px);float:left}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{width:100%}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:1rem}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400}@media (max-width: 992px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-5%}}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-24px}}@media (max-width: 768px){.timeline-left[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(4)   .timeline-box[_ngcontent-%COMP%]{margin-bottom:0}}']})}return i})();var N=p(57622),Zt=p(47394),P=p(26732),bt=p(19045),Tt=p(41716),Nt=p(63251),St=p(27441),Mt=p(57840),Ot=p(6348),yt=p(5991),It=p(37006),Dt=p(77266),Ut=p(45001);function qt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.gotoadd("0:0:"+n.linkId))}),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.itemID>0?t.lcZ(2,1,"Edit"):t.lcZ(3,3,"Add"))}}function kt(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function wt(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.intId),t.xp6(1),t.hij(" ",e.txtSubCountyName," ")}}function Pt(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.countyId),t.xp6(1),t.Oqu(e.countyName)}}function Lt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",50,51),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getApprovedSubCountyList(n))}),t.TgZ(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Pt,2,2,"option",20),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"County of Warehouse")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedCountyList)}}function Ft(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.subCountyId),t.xp6(1),t.hij(" ",e.subCountyName," ")}}function Jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",52,53),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getApprovedIdAndShop(n))}),t.TgZ(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Ft,2,2,"option",20),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Sub-County of Warehouse")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedSubCountyList)}}function Et(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.applicationId),t.xp6(1),t.hij(" ",e.shop,"")}}function Rt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",54,55),t.NdJ("click",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getOperatorName(n))}),t.TgZ(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Et,2,2,"option",20),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Warehouse Shop Name")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedShopList)}}function Wt(i,l){1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t._UZ(6,"input",56),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Warehouse Operator")," "))}function Yt(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function Vt(i,l){if(1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",57,58)(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Yt,2,2,"option",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2," Name of Grader")," "),t.xp6(8),t.Q6J("ngForOf",e.graderList)}}function Qt(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Bt(i,l){if(1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",59,60)(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Qt,2,2,"option",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Name of Collateral Manager")," "),t.xp6(8),t.Q6J("ngForOf",e.collateralList)}}function Ht(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function jt(i,l){if(1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",61,62)(8,"option",19),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Ht,2,2,"option",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Name of Inspector")," "),t.xp6(8),t.Q6J("ngForOf",e.inspectorList)}}function $t(i,l){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.complaintId),t.xp6(1),t.hij(" ",e.complaintType," ")}}function Gt(i,l){if(1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",63,64)(8,"option",19),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,$t,2,2,"option",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"Type of Complain")," "),t.xp6(7),t.Oqu(t.lcZ(10,5,"--Select--")),t.xp6(2),t.Q6J("ngForOf",e.complaintTypes)}}function Kt(i,l){1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t._UZ(6,"input",65),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Date of Incident ")," "))}function zt(i,l){1&i&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._uU(5,"*"),t.qZA()(),t._UZ(6,"textarea",66),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Description of Incident")," "))}function Xt(i,l){1&i&&(t.TgZ(0,"div")(1,"small",12),t._uU(2,"Document Name is required."),t.qZA()())}function te(i,l){1&i&&(t.TgZ(0,"div")(1,"small",12),t._uU(2,"Document file is required."),t.qZA()())}function ee(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",79)(1,"button",80),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,a=t.oxw(2);return t.KtG(a.removesupporting_documents(n))}),t._UZ(2,"i",81),t.qZA()()}}function ne(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"label",11),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"span",12),t._uU(7,"*"),t.qZA()(),t._UZ(8,"input",76),t.YNc(9,Xt,3,0,"div",41),t.qZA(),t.TgZ(10,"div",75)(11,"label",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",77),t.NdJ("change",function(n){const m=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.addMoreUploadFile(n,"5","mb",m,"addMoreSupportingDocuments",["pdf","jpeg","jpg"]))}),t.qZA(),t.TgZ(15,"small",12),t._uU(16,"Only pdf,jpeg,jpg allowed, max size 5 mb"),t.qZA(),t.YNc(17,te,3,0,"div",41),t.qZA(),t.YNc(18,ee,3,0,"div",78),t.qZA()()}if(2&i){const e=l.index,o=t.oxw(2);let n,a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",t.lcZ(5,6,"Document Name")," "),t.xp6(5),t.Q6J("ngIf",(null==(n=o.addMoreSupportingDocuments.get("amtxtDocumentName"))?null:n.invalid)&&(null==(n=o.addMoreSupportingDocuments.get("amtxtDocumentName"))?null:n.touched)),t.xp6(3),t.Oqu(t.lcZ(13,8,"Upload Documents")),t.xp6(5),t.Q6J("ngIf",(null==(a=o.addMoreSupportingDocuments.get("amfileUploadDocuments"))?null:a.invalid)&&(null==(a=o.addMoreSupportingDocuments.get("amfileUploadDocuments"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf",o.supporting_documents().length>1)}}function ie(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"h6",67),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",68)(5,"div",69)(6,"div",70),t.YNc(7,ne,19,10,"div",71),t.qZA()(),t.TgZ(8,"div",72)(9,"button",73),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addsupporting_documents())}),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Supporting Documents")),t.xp6(5),t.Q6J("ngForOf",e.supporting_documents().controls),t.xp6(3),t.hij(" ",t.lcZ(11,5,"Add More")," ")}}let L=(()=>{class i{constructor(e,o,n,a,m,d,r,h,C,s,_,b){this.fb=e,this.route=o,this.router=n,this.commonService=a,this.vldChkLst=m,this.translate=d,this.encDec=r,this._location=h,this.apiService=C,this.conformityService=s,this.alertService=_,this.admincomponent=b,this.serviceURL=u.N.serviceURL,this.title="Complaint Management",this.userid=0,this.subscriptions=new Zt.w0,this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let S=JSON.parse(this.sessiontoken);this.userIntId=S.USER_ID,this.userid=S.USER_ROLE,this.complaint_management=this.fb.group({intId:"",txtFullName:"",txtContactNumber:"",txtEmailAddress:"",txtrAddress:"",selCounty:0,selSubCounty:0,rdoComplaintAgainst:0,selCountyofWarehouse:0,selSubCountyofWarehouse:0,selWarehouseShopName:0,txtWarehouseOperator:"",selNameofGrader:0,selNameofCollateralManager:0,selNameofInspector:0,selTypeofComplain:0,txtDateofIncident:"",txtrDescriptionofIncident:"",documentRequired:"",addMoreSupportingDocuments:this.fb.array([]),chkdeclartion:!1,intCreatedBy:this.userIntId})}ngOnInit(){this.admincomponent.ngOnInit(),this.commonService.localEvent.subscribe(o=>this.translate.use(o)),this.supporting_documents().push(this.newsupporting_documents());let e=this.router.snapshot.paramMap.get("id");if(""!=e){let n=this.encDec.decText(e).split(":");this.itemID=n[0],this.resubmitstatus=n[1],this.linkId=n[2],this.itemID>0&&this.previewDetails(this.itemID),this.linkId>0&&this.getRoleWisePermissionDetails(this.linkId,this.userid,this.userIntId)}this.getUserDetails(this.userIntId),this.getCountyList(),this.getApprovedCountyList(),this.getInspectorList(),this.getCollateralList(),this.getGraderList(),this.complaint_management.get("rdoComplaintAgainst")?.valueChanges.subscribe(o=>{this.onRadioButtonChange(o)}),this.complaint_management.get("documentRequired")?.valueChanges.subscribe(o=>{"required"==o?(0===this.addMoreSupportingDocuments.length&&this.supporting_documents().push(this.newsupporting_documents()),this.addMoreSupportingDocuments.controls.forEach(n=>{n.get("amtxtDocumentName").setValidators([g.kI.required]),n.get("amfileUploadDocuments").setValidators([g.kI.required]),n.get("amtxtDocumentName").updateValueAndValidity(),n.get("amfileUploadDocuments").updateValueAndValidity()})):"notRequired"==o&&(this.clearSupportingDocuments(),this.addMoreSupportingDocuments.controls.forEach(n=>{n.get("amtxtDocumentName").clearValidators(),n.get("amfileUploadDocuments").clearValidators(),n.get("amtxtDocumentName").updateValueAndValidity(),n.get("amfileUploadDocuments").updateValueAndValidity()}))})}onRadioButtonChange(e){101==e?this.getAllComplaintTypesByRoleId(6):102==e?this.getAllComplaintTypesByRoleId(3):103==e?this.getAllComplaintTypesByRoleId(46):104==e&&this.getAllComplaintTypesByRoleId(47)}getUserDetails(e){this.apiService.getData(`${u.N.getUserDetailsResponseUrl}/${e}`).subscribe({next:o=>{200==o.status&&this.patchUserDetails(o.result)},error:o=>{console.error(o)}})}patchUserDetails(e){this.complaint_management.patchValue({txtFullName:e?.fullName,txtContactNumber:e?.contactNumber,txtEmailAddress:e?.email,txtrAddress:e?.address})}getRoleWisePermissionDetails(e,o,n){this.commonService.getRoleWisePermissionDetails({linkId:e,RoleId:o,userId:n}).subscribe(m=>{if(200==m.status){let d=m.result;this.permissionadd=d.add,this.permissionview=d.view,this.permissionedit=d.edit,this.permissiondelete=d.delete,this.permissionpublish=d.publish}else 417==m.status?c().fire({icon:"error",text:m.msg}):c().fire({icon:"error",text:"Something Went Wrong!"})},m=>{c().fire({icon:"error",text:m})})}gotoView(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/viewcomplaint-management",o],{state:a})}gotoadd(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/addcomplaint-management",o],{state:a})}supporting_documents(){return this.complaint_management.get("addMoreSupportingDocuments")}newsupporting_documents(){return this.fb.group({amtxtDocumentName:"",amfileUploadDocuments:""})}get addMoreSupportingDocuments(){return this.complaint_management.get("addMoreSupportingDocuments")}clearSupportingDocuments(){this.addMoreSupportingDocuments.clear()}addsupporting_documents(){let e=0,o=this.complaint_management.value.addMoreSupportingDocuments;if(o.length>0){for(let n=0;n<o.length;n++){let a=o[n].amtxtDocumentName,m=o[n].amfileUploadDocuments;0==e&&!this.vldChkLst.blankCheck("amtxtDocumentName",a,"Document Name Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("amtxtDocumentName",a,50,"Document Name")&&(e=1),0==e&&!this.vldChkLst.isSpecialCharKey("amtxtDocumentName",a,"Document Name")&&(e=1),0==e&&!this.vldChkLst.blankCheck("amfileUploadDocuments",m,"Upload Documents Cannot be Blank!")&&(e=1)}0==e&&this.supporting_documents().push(this.newsupporting_documents())}}removesupporting_documents(e){this.supporting_documents().removeAt(e)}submitForm(){let e=0;this.complaint_management.value.intId=this.itemID;let n=this.complaint_management.value.txtFullName,a=this.complaint_management.value.txtContactNumber,m=this.complaint_management.value.txtEmailAddress,d=this.complaint_management.value.txtrAddress,r=this.complaint_management.value.selCounty,h=this.complaint_management.value.selSubCounty,s=this.complaint_management.value.rdoComplaintAgainst,_=this.complaint_management.value.selCountyofWarehouse,b=this.complaint_management.value.selSubCountyofWarehouse,S=this.complaint_management.value.selWarehouseShopName,F=this.complaint_management.value.txtWarehouseOperator,se=this.complaint_management.value.selNameofGrader,me=this.complaint_management.value.selNameofCollateralManager,ce=this.complaint_management.value.selNameofInspector,pe=this.complaint_management.value.selTypeofComplain,de=this.complaint_management.value.txtDateofIncident,J=this.complaint_management.value.txtrDescriptionofIncident,ge=this.complaint_management.value.chkdeclartion;0==e&&!this.vldChkLst.blankCheck("txtFullName",n,"Full Name Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtFullName",n,50,"Full Name")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtContactNumber",a,"Contact Number Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtContactNumber",a,10,"Contact Number")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtEmailAddress",m,"Email Address Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtEmailAddress",m,100,"Email Address")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtrAddress",d,"Address Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtrAddress",d,150,"Address")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("selCounty",r,"County")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("selSubCounty",h,"Sub County")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("rdoComplaintAgainst",s,"Complaint Against")&&(e=1),0==e&&("101"==s||"103"==s||"104"==s)&&!this.vldChkLst.BlankCheckRdoDropChk("selCountyofWarehouse",_,"County of Warehouse")&&(e=1),0==e&&("101"==s||"103"==s||"104"==s)&&!this.vldChkLst.BlankCheckRdoDropChk("selSubCountyofWarehouse",b,"Sub-County of Warehouse")&&(e=1),0==e&&("101"==s||"103"==s||"104"==s)&&!this.vldChkLst.BlankCheckRdoDropChk("selWarehouseShopName",S,"Warehouse Shop Name")&&(e=1),0==e&&("101"==s||"103"==s||"104"==s)&&!this.vldChkLst.blankCheck("txtWarehouseOperator",F,"Warehouse Operator Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtWarehouseOperator",F,50,"Warehouse Operator")&&(e=1),0==e&&"104"==s&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofGrader",se," Name of Grader")&&(e=1),0==e&&"103"==s&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofCollateralManager",me,"Name of Collateral Manager")&&(e=1),0==e&&"102"==s&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofInspector",ce,"Name of Inspector")&&(e=1),0==e&&("101"==s||"102"==s||"103"==s||"104"==s)&&!this.vldChkLst.BlankCheckRdoDropChk("selTypeofComplain",pe,"Type of Complain")&&(e=1),0==e&&("101"==s||"102"==s||"103"==s||"104"==s)&&!this.vldChkLst.blankCheck("txtDateofIncident",de,"Date of Incident  Cannot be Blank!")&&(e=1),0==e&&("101"==s||"102"==s||"103"==s||"104"==s)&&!this.vldChkLst.blankCheck("txtrDescriptionofIncident",J,"Description of Incident Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtrDescriptionofIncident",J,200,"Description of Incident")&&(e=1),0==e&&0==ge&&(e=1,c().fire({text:"Please Check Declaration",icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"})),0==e&&this.commonService.insertData(this.complaint_management.value,"complaint-management/complaint-management/addEdit").subscribe(f=>{let E=f.RESPONSE_DATA;f.RESPONSE_TOKEN==A.HmacSHA256(E,u.N.apiHashingKey).toString()?(f=x.lW.from(E,"base64"),200==(f=JSON.parse(f.toString())).status?c().fire({text:"Record Inserted Successfully  Your Complaint No. is : "+f.complaintNo,icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(_e=>{let O=this.encDec.encText(this.linkId.toString());this.route.navigate(["/admin/complaint-management/viewcomplaint-management",O]),this.complaint_management.reset()}):202==f.status?c().fire({text:"Record Updated Successfully",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(_e=>{let O=this.encDec.encText(this.linkId.toString());this.route.navigate(["/admin/complaint-management/viewcomplaint-management",O]),this.complaint_management.reset()}):502==f.status?c().fire({icon:"error",text:f.errMsg}):c().fire({icon:"error",text:"Something Went wrong"})):c().fire({icon:"error",text:"Invalid Response"})},f=>{c().fire({icon:"error",text:f})})}previewDetails(e){this.commonService.viewAll({intId:e},"complaint-management/complaint-management/preview").subscribe(n=>{let a=n.RESPONSE_DATA;if(n.RESPONSE_TOKEN==A.HmacSHA256(a,u.N.apiHashingKey).toString())if(n=x.lW.from(a,"base64"),200==(n=JSON.parse(n.toString())).status){let r=n.result;if(Object.keys(r).length){if(this.complaint_management.patchValue({intId:this.itemID,hedComplainantsInformation:r.hedComplainantsInformation?r.hedComplainantsInformation:"",txtFullName:r.txtFullName?r.txtFullName:"",txtContactNumber:r.txtContactNumber?r.txtContactNumber:"",txtEmailAddress:r.txtEmailAddress?r.txtEmailAddress:"",txtrAddress:r.txtrAddress?r.txtrAddress:"",selCounty:r.selCounty?r.selCounty:0,selSubCounty:r.selSubCounty?r.selSubCounty:0,hedComplaintInformation:r.hedComplaintInformation?r.hedComplaintInformation:"",rdoComplaintAgainst:r.rdoComplaintAgainst?r.rdoComplaintAgainst:0,selCountyofWarehouse:r.selCountyofWarehouse?r.selCountyofWarehouse:0,selSubCountyofWarehouse:r.selSubCountyofWarehouse?r.selSubCountyofWarehouse:0,selWarehouseShopName:r.selWarehouseShopName?r.selWarehouseShopName:0,txtWarehouseOperator:r.txtWarehouseOperator?r.txtWarehouseOperator:"",selNameofGrader:r.selNameofGrader?r.selNameofGrader:0,selNameofCollateralManager:r.selNameofCollateralManager?r.selNameofCollateralManager:0,selNameofInspector:r.selNameofInspector?r.selNameofInspector:0,selTypeofComplain:r.selTypeofComplain?r.selTypeofComplain:0,txtDateofIncident:r.txtDateofIncident?r.txtDateofIncident:"",txtrDescriptionofIncident:r.txtrDescriptionofIncident?r.txtrDescriptionofIncident:"",hedSupportingDocuments:r.hedSupportingDocuments?r.hedSupportingDocuments:"",addMoreSupportingDocuments:r.addMoreSupportingDocuments?r.addMoreSupportingDocuments:"",chkdeclartion:!!r.chkdeclartion&&r.chkdeclartion}),r.addMoreSupportingDocuments.length>0){const s=this.complaint_management.controls.addMoreSupportingDocuments;for(let _=s.length-1;_>=0;_--)s.removeAt(_)}r.addMoreSupportingDocuments.forEach(s=>{var _=this.fb.group({amtxtDocumentName:s.amtxtDocumentName||"",amfileUploadDocuments:s.amfileUploadDocuments||""});this.complaint_management.get("addMoreSupportingDocuments").push(_)})}}else c().fire({icon:"error",text:"Something Went Wrong!"});else c().fire({icon:"error",text:"Invalid Response"})},n=>{c().fire({icon:"error",text:n})})}addMoreUploadFile(e,o,n,a,m,d){let r=e.target.files[0],h=e.target.id,C=!0;if(this.vldChkLst.validateFile(r.name.slice(r.name.lastIndexOf(".")+1),d)||(C=!1,c().fire({icon:"error",text:"invalid file type"})),!this.vldChkLst.validateFileSize(r.size,o,n)){C=!1;let s="";s="kb"==n.toLowerCase()?"File size exceeds "+o+"KB.":"File size exceeds "+o+"MB.",c().fire({icon:"error",text:s})}if(C){const s=new FormData;s.append("file",r),this.commonService.saveFileToTemp(s).subscribe(_=>{if(200==_.status){var b={};b[h]=_.fileName,this.complaint_management.get(m).at(a).patchValue(b)}else c().fire({icon:"error",text:"error while uploading files"})},_=>{c().fire({icon:"error",text:_})})}}onReset(){this.complaint_management.reset()}onCancel(){this._location.back()}getCountyList(){this.conformityService.getCountyList().subscribe({next:e=>{const o=atob(e.RESPONSE_DATA),n=JSON.parse(o);this.countyList=n.result},error:e=>{console.log(e)}})}getSubCountyList(e){const o=parseInt(e.target.value,10);this.apiService.getData(u.N.subCountyGetByCountyURL+"/"+o).subscribe({next:n=>{console.log(n),this.subCountyList=n.result},error:n=>{console.log(n)}})}getAllComplaintTypes(){this.subscriptions.add(this.apiService.getData(u.N.getAllComplaintType).subscribe({next:e=>{console.log(e.result),this.complaintTypes=e.result},error:e=>this.alertService.showError(e.error.message||P.F.generalError)}))}getAllComplaintTypesByRoleId(e){this.subscriptions.add(this.apiService.getData(`${u.N.getAllComplaintType}/${e}`).subscribe({next:o=>{console.log(o.result),this.complaintTypes=o.result},error:o=>this.alertService.showError(o.error.message||P.F.generalError)}))}getApprovedCountyList(){this.apiService.getData(`${u.N.getApprovedCountyListUrl}`).subscribe({next:e=>{this.approvedCountyList=e.result},error:e=>{console.error(e)}})}getApprovedSubCountyList(e){const o=parseInt(e.target.value,10);this.apiService.getData(u.N.getApprovedSubCountyListUrl+"/"+o).subscribe({next:n=>{console.log(n),this.approvedSubCountyList=n.result},error:n=>{console.log(n)}})}getApprovedIdAndShop(e){const o=parseInt(e.target.value,10),n=this.complaint_management.get("selCountyofWarehouse")?.value;this.apiService.getData(u.N.getApprovedIdAndShopUrl+"/"+n+"/"+o).subscribe({next:a=>{console.log(a),this.approvedShopList=a.result},error:a=>{console.log(a)}})}getOperatorName(e){const o=e.target.value;"0"!=o&&this.apiService.getData(u.N.getOperatorNameUrl+"/"+o).subscribe({next:n=>{console.log(n),null==n.result?(c().fire("Name not found"),this.complaint_management.patchValue({selWarehouseShopName:0})):this.complaint_management.patchValue({txtWarehouseOperator:n.result})},error:n=>{console.log(n)}})}getInspectorList(){this.apiService.getData(`${u.N.getInspectorsListUrl}`).subscribe({next:e=>{this.inspectorList=e.result},error:e=>{console.error(e)}})}getCollateralList(){this.apiService.getData(`${u.N.getCollateralListUrl}`).subscribe({next:e=>{this.collateralList=e.result},error:e=>{console.error(e)}})}getGraderList(){this.apiService.getData(`${u.N.getGraderListUrl}`).subscribe({next:e=>{this.graderList=e.result},error:e=>{console.error(e)}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(g.qu),t.Y36(Z.F0),t.Y36(Z.gz),t.Y36(U.R),t.Y36(q._),t.Y36(T.sK),t.Y36(k.q),t.Y36(v.Ye),t.Y36(bt.s),t.Y36(Tt.s),t.Y36(Nt.c),t.Y36(D._))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-complaint-manage-form"]],decls:132,vars:62,consts:[[1,"page-title"],["id","AdminTab",1,"nav","nav-tabs"],[1,"nav-item"],["class","nav-link active","aria-current","page",3,"click",4,"ngIf"],[1,"nav-link",3,"click"],[1,"tab-content"],[1,"indicate-mandatory"],[3,"formGroup","ngSubmit"],[1,"app-heading","mb-4"],[1,"row","g-4","mb-5"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-6","col-xs-12"],["Class","form-label"],[1,"text-danger"],["type","text","readonly","","pattern","","id","txtFullName","formControlName","txtFullName","minlength","","maxlength","50","placeholder","","OnlyCharacter","","trim","","autocomplete","off",1,"form-control"],["type","tel","readonly","","pattern","","id","txtContactNumber","formControlName","txtContactNumber","minlength","","maxlength","10","placeholder","","phoneNumber","","trim","","autocomplete","off",1,"form-control"],["type","email","readonly","","pattern","","id","txtEmailAddress","formControlName","txtEmailAddress","minlength","","maxlength","100","placeholder","","emaildirective","","trim","","autocomplete","off",1,"form-control"],["minlength","","readonly","","maxlength","150","pattern","- / ","id","txtrAddress","formControlName","txtrAddress","placeholder","","alphaNumeric","","trim","","BlockSpcFirst","","trim","",1,"form-control"],["formControlName","selCounty","id","selCounty",1,"form-select",3,"change"],["selCounty",""],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","selSubCounty","id","selSubCounty",1,"form-select"],["selSubCounty",""],[1,"row","g-4","mb-4"],[1,"col-12"],["Class","form-label d-block"],[1,"form-check","form-check-inline"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst101",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst101",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst102",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst102",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst103",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst103",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst104",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst104",1,"form-check-label"],["class","col-xl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12",4,"ngIf"],[1,"form-label","d-block"],["type","radio","formControlName","documentRequired","value","required","id","required",1,"form-check-input"],["for","required",1,"form-check-label"],["type","radio","formControlName","documentRequired","value","notRequired","id","notRequired",1,"form-check-input"],["for","notRequired",1,"form-check-label"],[4,"ngIf"],[1,"form-check","form-check-inline","mb-3"],["formControlName","chkdeclartion","value","chkdeclartion.value","type","checkbox","id","chkdeclartion",1,"form-check-input"],["for","chkdeclartion",1,"form-check-label"],[1,"d-grid","gap-2","d-sm-flex"],["type","submit",1,"btn","btn-success"],["type","reset",1,"btn","btn-danger",3,"click"],["aria-current","page",1,"nav-link","active",3,"click"],[3,"value"],["formControlName","selCountyofWarehouse","id","selCountyofWarehouse",1,"form-select",3,"change"],["selCountyofWarehouse",""],["formControlName","selSubCountyofWarehouse","id","selSubCountyofWarehouse",1,"form-select",3,"change"],["selSubCountyofWarehouse",""],["formControlName","selWarehouseShopName","id","selWarehouseShopName",1,"form-select",3,"click"],["selWarehouseShopName",""],["type","text","pattern","","id","txtWarehouseOperator","formControlName","txtWarehouseOperator","minlength","","maxlength","50","placeholder","","OnlyCharacter","","trim","","autocomplete","off",1,"form-control"],["formControlName","selNameofGrader","id","selNameofGrader",1,"form-select"],["selNameofGrader",""],["formControlName","selNameofCollateralManager","id","selNameofCollateralManager",1,"form-select"],["selNameofCollateralManager",""],["formControlName","selNameofInspector","id","selNameofInspector",1,"form-select"],["selNameofInspector",""],["formControlName","selTypeofComplain","id","selTypeofComplain",1,"form-select"],["selTypeofComplain",""],["type","date","pattern","","id","txtDateofIncident","formControlName","txtDateofIncident","minlength","","maxlength","","placeholder","","BlockSpcFirst","","trim","","autocomplete","off",1,"form-control"],["minlength","","maxlength","200","pattern","- / @ #","id","txtrDescriptionofIncident","formControlName","txtrDescriptionofIncident","placeholder","","alphaNumeric","","trim","","BlockSpcFirst","","trim","","appInvalidInput","",1,"form-control"],["Class","app-heading mb-4"],[1,"row","mb-5"],[1,"col-md-10","col-xs-12"],["formArrayName","addMoreSupportingDocuments"],[4,"ngFor","ngForOf"],[1,"col-md-2","col-xs-12"],["type","button",1,"btn","btn-success","btn-add",3,"click"],[1,"row","g-4",3,"formGroupName"],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-6","col-xs-12"],["type","text","pattern","","id","amtxtDocumentName","formControlName","amtxtDocumentName","minlength","","maxlength","50","placeholder","","BlockSpcFirst","","trim","","autocomplete","off","appInvalidInput","",1,"form-control"],["type","file","id","amfileUploadDocuments","accept","",1,"form-control",3,"change"],["class","col-xl-2 col-lg-2 col-md-2 col-sm-6 col-xs-12",4,"ngIf"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-6","col-xs-12"],[1,"btn","btn-danger","btn-minus",3,"click"],[1,"bi","bi-dash"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"ul",1)(5,"li",2),t.YNc(6,qt,4,5,"a",3),t.qZA(),t.TgZ(7,"li",2)(8,"a",4),t.NdJ("click",function(){return n.gotoView(n.linkId)}),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",5)(12,"div",6)(13,"span"),t._uU(14,"( * ) Indicates mandatory fields"),t.qZA()(),t.TgZ(15,"form",7),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(16,"h5",8),t._uU(17,"Complainants Information"),t.qZA(),t.TgZ(18,"div",9)(19,"div",10)(20,"label",11),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",12),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",13),t.qZA(),t.TgZ(26,"div",10)(27,"label",11),t._uU(28),t.ALo(29,"translate"),t.TgZ(30,"span",12),t._uU(31,"*"),t.qZA()(),t._UZ(32,"input",14),t.qZA(),t.TgZ(33,"div",10)(34,"label",11),t._uU(35),t.ALo(36,"translate"),t.TgZ(37,"span",12),t._uU(38,"*"),t.qZA()(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"div",10)(41,"label",11),t._uU(42),t.ALo(43,"translate"),t.TgZ(44,"span",12),t._uU(45,"*"),t.qZA()(),t._UZ(46,"textarea",16),t.qZA(),t.TgZ(47,"div",10)(48,"label",11),t._uU(49),t.ALo(50,"translate"),t.TgZ(51,"span",12),t._uU(52,"*"),t.qZA()(),t.TgZ(53,"select",17,18),t.NdJ("change",function(m){return n.getSubCountyList(m)}),t.TgZ(55,"option",19),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.YNc(58,kt,2,2,"option",20),t.qZA()(),t.TgZ(59,"div",10)(60,"label",11),t._uU(61),t.ALo(62,"translate"),t.TgZ(63,"span",12),t._uU(64,"*"),t.qZA()(),t.TgZ(65,"select",21,22)(67,"option",19),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.YNc(70,wt,2,2,"option",20),t.qZA()()(),t.TgZ(71,"h5",8),t._uU(72,"Complaint Information"),t.qZA(),t.TgZ(73,"div",23)(74,"div",24)(75,"label",25),t._uU(76),t.ALo(77,"translate"),t.TgZ(78,"span",12),t._uU(79,"*"),t.qZA()(),t.TgZ(80,"div",26),t._UZ(81,"input",27),t.TgZ(82,"label",28),t._uU(83,"Warehouse Operator"),t.qZA()(),t.TgZ(84,"div",26),t._UZ(85,"input",29),t.TgZ(86,"label",30),t._uU(87,"Inspector"),t.qZA()(),t.TgZ(88,"div",26),t._UZ(89,"input",31),t.TgZ(90,"label",32),t._uU(91,"Collateral Manager"),t.qZA()(),t.TgZ(92,"div",26),t._UZ(93,"input",33),t.TgZ(94,"label",34),t._uU(95,"Grader"),t.qZA()()(),t.YNc(96,Lt,11,4,"div",35),t.YNc(97,Jt,11,4,"div",35),t.YNc(98,Rt,11,4,"div",35),t.YNc(99,Wt,7,3,"div",35),t.YNc(100,Vt,11,4,"div",35),t.YNc(101,Bt,11,4,"div",35),t.YNc(102,jt,11,4,"div",35),t.YNc(103,Gt,12,7,"div",35),t.YNc(104,Kt,7,3,"div",35),t.YNc(105,zt,7,3,"div",35),t.qZA(),t.TgZ(106,"div",23)(107,"div",24)(108,"label",36),t._uU(109,"Is Document Required?"),t.qZA(),t.TgZ(110,"div",26),t._UZ(111,"input",37),t.TgZ(112,"label",38),t._uU(113,"Required"),t.qZA()(),t.TgZ(114,"div",26),t._UZ(115,"input",39),t.TgZ(116,"label",40),t._uU(117,"Not Required"),t.qZA()()()(),t.YNc(118,ie,12,7,"div",41),t.TgZ(119,"div",42),t._UZ(120,"input",43),t.TgZ(121,"label",44),t._uU(122,"I hereby declare that the information provided is true and accurate to the best of my knowledge and belief."),t.qZA()(),t.TgZ(123,"div",45)(124,"button",46),t._uU(125),t.ALo(126,"translate"),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"button",47),t.NdJ("click",function(){return n.itemID>0?n.onCancel():n.onReset()}),t._uU(129),t.ALo(130,"translate"),t.ALo(131,"translate"),t.qZA()()()()),2&o){let a;t.xp6(2),t.Oqu(t.lcZ(3,32,n.title)),t.xp6(4),t.Q6J("ngIf",1==n.permissionadd),t.xp6(3),t.Oqu(t.lcZ(10,34,"View")),t.xp6(6),t.Q6J("formGroup",n.complaint_management),t.xp6(6),t.hij("",t.lcZ(22,36,"Full Name")," "),t.xp6(7),t.hij("",t.lcZ(29,38,"Contact Number")," "),t.xp6(7),t.hij("",t.lcZ(36,40,"Email Address")," "),t.xp6(7),t.hij("",t.lcZ(43,42,"Address")," "),t.xp6(7),t.hij("",t.lcZ(50,44,"County")," "),t.xp6(7),t.Oqu(t.lcZ(57,46,"--Select--")),t.xp6(2),t.Q6J("ngForOf",n.countyList),t.xp6(3),t.hij("",t.lcZ(62,48,"Sub County")," "),t.xp6(7),t.Oqu(t.lcZ(69,50,"--Select--")),t.xp6(2),t.Q6J("ngForOf",n.subCountyList),t.xp6(6),t.hij("",t.lcZ(77,52,"Complaint Against")," "),t.xp6(5),t.Q6J("value",101),t.xp6(4),t.Q6J("value",102),t.xp6(4),t.Q6J("value",103),t.xp6(4),t.Q6J("value",104),t.xp6(3),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","103"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","102"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(13),t.Q6J("ngIf","required"===(null==(a=n.complaint_management.get("documentRequired"))?null:a.value)),t.xp6(7),t.hij(" ",n.itemID>0?t.lcZ(126,54,"Update"):t.lcZ(127,56,"Submit"),""),t.xp6(4),t.hij("",n.itemID>0?t.lcZ(130,58,"Cancel"):t.lcZ(131,60,"Reset")," ")}},dependencies:[g._Y,g.YN,g.Kr,g.Fj,g.Wl,g.EJ,g._,g.JJ,g.JL,g.wO,g.nD,g.c5,g.sg,g.u,g.x0,g.CE,St.Q,Mt.l,Ot.j,yt.q,It.$,Dt.S,Ut.H,v.sg,v.O5,T.X$],styles:[".btn-minus[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{margin-top:1.8rem}"]})}return i})();const oe=[{path:"",component:I},{path:"",component:I,children:[{path:"viewcomplaint-management",component:w,canActivate:[N.a]},{path:"addcomplaint-management",component:L,canActivate:[N.a]},{path:"addcomplaint-management/:id",component:L,canActivate:[N.a]},{path:"viewcomplaint-management/:id",component:w,canActivate:[N.a]}]}];let ae=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[Z.Bz.forChild(oe),Z.Bz]})}return i})();var le=p(32898);let re=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[R.JF,g.u5,g.UX,M.JX,Y.IJ,V.UM,W.kn.forRoot(),Q.X,B.o,v.ez,ae,le.D]})}return i})()}}]);