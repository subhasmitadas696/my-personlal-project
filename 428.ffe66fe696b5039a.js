"use strict";(self.webpackChunkewarehouse=self.webpackChunkewarehouse||[]).push([[428],{25428:(ht,h,s)=>{s.r(h),s.d(h,{WebFormsModule:()=>ut});var _=s(96814),g=s(81303),t=s(65879);let T=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-web-forms"]],decls:1,vars:0,template:function(a,n){1&a&&t._UZ(0,"router-outlet")},dependencies:[g.lC]})}return i})();var w=s(13519),r=s.n(w),f=s(20553),x=s(39007),Z=s(77874),m=s(56223),N=s(78889),b=s(89515),I=s(66755),q=s(84775),M=s(88663),U=s(75438),A=s(76472);function O(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",4),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadPendingList("assign"))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",e.assignTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(3,2,"Assign"))}}function S(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"span",20)(2,"input",21),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadListByOption("approved","SUSPEND"))}),t.qZA(),t._uU(3," Suspend"),t.qZA(),t.TgZ(4,"span",20)(5,"input",22),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadListByOption("reject","NOT_RECOMMENDED"))}),t.qZA(),t._uU(6," Not Recommended"),t.qZA(),t.TgZ(7,"span",20)(8,"input",22),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadListByOption("approved","REVOKE_LICENSE"))}),t.qZA(),t._uU(9," Revoke License"),t.qZA(),t.TgZ(10,"span",20)(11,"input",22),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadListByOption("reject","NOT_REVOKE_LICENSE"))}),t.qZA(),t._uU(12," Not Revoke License"),t.qZA()()}}function J(i,l){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Action")))}function k(i,l){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Action")))}function L(i,l){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Details")))}function D(i,l){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Action")," "))}function E(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"County of Warehouse"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selCountyofWarehouseVal)}}function Y(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Sub-County of Warehouse"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selSubCountyofWarehouseVal)}}function F(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Warehouse Shop Name"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selWarehouseShopNameVal)}}function Q(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Warehouse Operator"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtWarehouseOperator)}}function R(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Name of Grader"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofGraderVal)}}function P(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Name of Collateral Manager"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofCollateralManagerVal)}}function $(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Name of Inspector"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofInspectorVal)}}function j(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Type of Complain"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selTypeofComplainVal)}}function H(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Date of Incident"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.ALo(6,"date"),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(t.xi3(6,1,e.txtDateofIncident,"dd-MMM-yyyy"))}}function W(i,l){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"p",48),t._uU(3,"Description of Incident"),t.qZA(),t.TgZ(4,"p",49),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtrDescriptionofIncident)}}function K(i,l){if(1&i&&(t.TgZ(0,"div",45)(1,"div",46)(2,"div",47)(3,"p",48),t._uU(4,"Full Name"),t.qZA(),t.TgZ(5,"p",49),t._uU(6),t.qZA()()(),t.TgZ(7,"div",46)(8,"div",47)(9,"p",48),t._uU(10,"Contact Number"),t.qZA(),t.TgZ(11,"p",49),t._uU(12),t.qZA()()(),t.TgZ(13,"div",46)(14,"div",47)(15,"p",48),t._uU(16,"Email Address"),t.qZA(),t.TgZ(17,"p",49),t._uU(18),t.qZA()()(),t.TgZ(19,"div",46)(20,"div",47)(21,"p",48),t._uU(22,"Address"),t.qZA(),t.TgZ(23,"p",49),t._uU(24),t.qZA()()(),t.TgZ(25,"div",46)(26,"div",47)(27,"p",48),t._uU(28,"County"),t.qZA(),t.TgZ(29,"p",49),t._uU(30),t.qZA()()(),t.TgZ(31,"div",46)(32,"div",47)(33,"p",48),t._uU(34,"Sub County"),t.qZA(),t.TgZ(35,"p",49),t._uU(36),t.qZA()()(),t.TgZ(37,"div",46)(38,"div",47)(39,"p",48),t._uU(40,"Complaint Against"),t.qZA(),t.TgZ(41,"p",49),t._uU(42),t.qZA()()(),t.YNc(43,E,6,1,"div",50),t.YNc(44,Y,6,1,"div",50),t.YNc(45,F,6,1,"div",50),t.YNc(46,Q,6,1,"div",50),t.YNc(47,R,6,1,"div",50),t.YNc(48,P,6,1,"div",50),t.YNc(49,$,6,1,"div",50),t.YNc(50,j,6,1,"div",50),t.YNc(51,H,7,4,"div",50),t.YNc(52,W,6,1,"div",50),t.qZA()),2&i){const e=l.$implicit;t.xp6(6),t.Oqu(e.txtFullName?e.txtFullName:"---"),t.xp6(6),t.Oqu(e.txtContactNumber?e.txtContactNumber:"---"),t.xp6(6),t.Oqu(e.txtEmailAddress?e.txtEmailAddress:"---"),t.xp6(6),t.Oqu(e.txtrAddress?e.txtrAddress:"---"),t.xp6(6),t.Oqu(e.selCountyVal),t.xp6(6),t.Oqu(e.selSubCountyVal),t.xp6(6),t.Oqu(e.rdoComplaintAgainstVal),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","103"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","102"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst)}}function G(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",51),t._UZ(5,"img",52),t._uU(6),t.qZA()()()),2&i){const e=l.$implicit,a=t.oxw(4);t.xp6(2),t.Oqu(e.amtxtDocumentName),t.xp6(2),t.hYB("href","",a.serviceURL,"complaint-management/complaint-management/download/",e.amfileUploadDocuments,"",t.LSH),t.xp6(2),t.AsE("",e.amtxtDocumentName,".",e.amfileUploadDocuments.split(".").pop(),"")}}function V(i,l){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,G,7,5,"tr",28),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("ngForOf",e.addMoreSupportingDocuments)}}function B(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"a",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,o=t.oxw(2);return t.KtG(o.goToTakeAction(n.intId,160,n.stageno,"takeaction",o.formName,n.intLableId,n.vchActionOnApplication,n.ActionCondition,n.result1[0].selTypeofComplain))}),t._uU(2," Take Action"),t.qZA()()}}function z(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,o=t.oxw(2);return t.KtG(o.goToDraftView(160,n.intId))}),t._uU(1,"Draft"),t.qZA()}}function X(i,l){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,B,3,0,"div",17),t.YNc(2,z,2,0,"ng-template",null,53,t.W1O),t.qZA()),2&i){const e=t.MAs(3),a=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",1==a.action)("ngIfElse",e)}}function tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"a",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,o=t.oxw(2);return t.KtG(o.goToTakeAction(n.intId,160,n.stageno,"takeaction",o.formName,n.intLableId,n.vchActionOnApplication,n.ActionCondition,n.result1[0].selTypeofComplain))}),t._uU(2,"Take Action"),t.qZA()()}}function et(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,o=t.oxw(2);return t.KtG(o.goToDraftView(160,n.intId))}),t._uU(1,"Draft"),t.qZA()}}function it(i,l){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,tt,3,0,"div",17),t.YNc(2,et,2,0,"ng-template",null,53,t.W1O),t.qZA()),2&i){const e=t.MAs(3),a=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",1==a.action)("ngIfElse",e)}}function nt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"a",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.goToTakeAction(n.intId,160,n.stageno,"viewhistory",o.formName,n.intLableId,n.vchActionOnApplication,n.ActionCondition,n.result1[0].selTypeofComplain))}),t._uU(2,"View History"),t.qZA()()}}function at(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",56),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,o=t.oxw(2);return t.KtG(o.goToDraftView(160,n.intId))}),t._uU(2,"Draft"),t.qZA(),t.BQk()}}function ot(i,l){if(1&i&&(t.TgZ(0,"div")(1,"strong"),t._uU(2),t.qZA(),t.TgZ(3,"a",57),t._UZ(4,"i",58),t.qZA()()),2&i){const e=l.$implicit,a=t.oxw(5);t.xp6(2),t.hij("",e.letterName," "),t.xp6(1),t.s9C("href",e.fileName?a.storaheurl+"queryDocs/"+e.fileName:"javascript:void(0)",t.LSH)}}function lt(i,l){if(1&i&&t.YNc(0,ot,5,2,"div",28),2&i){const e=t.oxw(2).$implicit;t.Q6J("ngForOf",e.verifyLetter)}}function st(i,l){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,at,3,0,"ng-container",17),t.YNc(2,lt,1,1,"ng-template",null,55,t.W1O),t.qZA()),2&i){const e=t.MAs(3),a=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",0==a.tinVerifyLetterGenStatus)("ngIfElse",e)}}function pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"a",32),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.previewDetails(o.intId))}),t._uU(6),t.qZA(),t.TgZ(7,"div",33)(8,"div",34)(9,"div",35)(10,"div",36)(11,"h5",37),t._uU(12,"Complaint Details"),t.qZA(),t._UZ(13,"button",38),t.qZA(),t.TgZ(14,"div",39),t.YNc(15,K,53,17,"div",40),t.TgZ(16,"h5",41),t._uU(17,"Supporting Documents"),t.qZA(),t.TgZ(18,"div",23)(19,"table",42)(20,"thead")(21,"tr")(22,"th"),t._uU(23,"Document Name"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Upload Documents"),t.qZA()()(),t.YNc(26,V,2,1,"tbody",28),t.qZA()()()()()()(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"date"),t.qZA(),t.TgZ(30,"td"),t._UZ(31,"div",43),t.qZA(),t.YNc(32,X,4,2,"td",44),t.YNc(33,it,4,2,"td",44),t.YNc(34,nt,3,0,"td",44),t.YNc(35,st,4,2,"td",44),t.qZA()()}if(2&i){const e=l.$implicit,a=l.index,n=t.oxw(2);t.xp6(3),t.Oqu(a+1+n.indexNumber),t.xp6(2),t.uIk("data-bs-target","#previewModal"+a),t.xp6(1),t.Oqu(e.result1[0].complaintNo),t.xp6(1),t.MGl("id","previewModal",a,""),t.xp6(8),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(11),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(2),t.Oqu(t.xi3(29,12,e.dtmCreatedOn,"dd-MMM-yyyy")),t.xp6(3),t.Q6J("innerHTML",n.getAppStatus(e),t.oJD),t.xp6(1),t.Q6J("ngIf",n.assignTab),t.xp6(1),t.Q6J("ngIf",n.reviewTab),t.xp6(1),t.Q6J("ngIf",n.summaryTab),t.xp6(1),t.Q6J("ngIf",n.approvedTab&&n.draftStatus>0)}}const ct=function(i,l,e){return{itemsPerPage:i,currentPage:l,totalItems:e}};function mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",23)(2,"table",24)(3,"thead")(4,"tr")(5,"th",25),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th",26),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",26),t._uU(12,"Created On"),t.qZA(),t.TgZ(13,"th",26),t._uU(14,"Status"),t.qZA(),t.YNc(15,J,3,3,"th",27),t.YNc(16,k,3,3,"th",27),t.YNc(17,L,3,3,"th",27),t.YNc(18,D,3,3,"th",27),t.qZA()(),t.YNc(19,pt,36,15,"tbody",28),t.ALo(20,"paginate"),t.qZA()(),t.TgZ(21,"div",29)(22,"pagination-controls",30),t.NdJ("pageChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onTableDataChange(n))}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,7,"Sl#")),t.xp6(3),t.Oqu(t.lcZ(10,9,"Complaint No.")),t.xp6(6),t.Q6J("ngIf",e.assignTab),t.xp6(1),t.Q6J("ngIf",e.reviewTab),t.xp6(1),t.Q6J("ngIf",e.summaryTab),t.xp6(1),t.Q6J("ngIf",e.approvedTab&&e.draftStatus>0),t.xp6(1),t.Q6J("ngForOf",t.xi3(20,11,e.complaint_managementlist,t.kEZ(14,ct,e.tableSize,e.page,e.count)))}}function rt(i,l){1&i&&(t.TgZ(0,"h6",59),t._uU(1," No Record Found"),t.qZA())}let y=(()=>{class i{constructor(e,a,n,o,c,p,d,u,v){this.fb=e,this.route=a,this.router=n,this.commonService=o,this.translate=c,this.vldChkLst=p,this.encDec=d,this.workflowService=u,this.admincomponent=v,this.complaint_managementlistPreview=[],this.page=1,this.count=0,this.tableSize=10,this.indexNumber=0,this.pageSizes=[10,20,50,100,500,1e3],this.serviceURL=f.N.serviceURL,this.title="Complaint Management",this.formName="complaint_management/",this.userid=0,this.storaheurl=f.N.fileURL,this.pendingTab=!1,this.assignTab=!1,this.reviewTab=!1,this.approvedTab=!1,this.rejectTab=!1,this.summaryTab=!1,this.actionTakenTab=!1,this.loadtabtype=0,this.roleId=0,this.userId=0,this.draftStatus=0,this.intLabelId=0,this.currentRoute="admin/web-form/applyviewcomplaint-management",this.canAssign=!1,this.actionTakenOption={status:null,type:null},this.complaint_management=this.fb.group({intId:"",txtFullName:"",txtContactNumber:""})}ngOnInit(){this.admincomponent.ngOnInit();let e=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(e);this.canAssign="Assign/Review Complaint"==a.subLinkName,this.commonService.localEvent.subscribe(c=>this.translate.use(c)),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let n=JSON.parse(this.sessiontoken);this.roleId=n.USER_ROLE,this.userId=n.USER_ID;let o=this.router.snapshot.paramMap.get("id");if(""!=o){let p=this.encDec.decText(o).split(":");this.loadtabtype=p[0],console.log(this.loadtabtype),""!=this.loadtabtype?(this.summaryTab=!0,this.viewAllData(160,this.roleId,"summary",null)):(this.reviewTab=!0,this.viewAllData(160,this.roleId,"pending",null))}}clearTabs(){this.complaint_managementlist=[],this.assignTab=!1,this.reviewTab=!1,this.approvedTab=!1,this.rejectTab=!1,this.summaryTab=!1,this.actionTakenTab=!1,this.page=1,this.indexNumber=0}loadPendingList(e){this.clearTabs(),this.assignTab="assign"==e,this.reviewTab="review"==e,this.viewAllData("160",this.roleId,"pending",e)}loadApprovedList(){this.clearTabs(),this.approvedTab=!0,this.viewAllData("160",this.roleId,"approved",null)}loadRejectList(){this.clearTabs(),this.rejectTab=!0,this.viewAllData("160",this.roleId,"reject",null)}loadSummeryList(){this.clearTabs(),this.summaryTab=!0,this.viewAllData("160",this.roleId,"summary",null)}resetTextField(){this.complaint_management.reset()}goToTakeAction(e,a,n,o,c,p,d,u,v){let vt=this.encDec.encText(e+":"+a+":"+n+":"+this.currentRoute+":"+o+":"+c+":"+p+":"+d+":"+u+":"+v),ft=sessionStorage.getItem("breadcrumbData"),At=JSON.parse(ft);this.route.navigate(["/admin/takeAction/",vt],{state:At})}getAppStatus(e){return this.workflowService.getStatus(e)}viewAllData(e,a,n,o){this.commonService.viewAll({intId:e,roleId:a,userId:this.userId,applicationStatus:n,applicationType:o,formData:this.complaint_management.value,pageNo:this.page,size:this.tableSize},"complaint-management/complaint-management/getAllAproveAction").subscribe(p=>{let d=p.RESPONSE_DATA;p.RESPONSE_TOKEN==Z.HmacSHA256(d,f.N.apiHashingKey).toString()?(p=x.lW.from(d,"base64"),200==(p=JSON.parse(p.toString())).status?(this.complaint_managementlist=p.result,console.log(this.complaint_managementlist),this.count=p.count,this.draftStatus=p.draftStatus):r().fire({icon:"error",text:"Something Went Wrong!"})):r().fire({icon:"error",text:"Unauthorised Response!"})},p=>{r().fire({icon:"error",text:p})})}previewDetails(e){this.complaint_managementlistPreview=[],this.commonService.viewAll({intId:e},"complaint-management/complaint-management/preview").subscribe(n=>{let o=n.RESPONSE_DATA;n.RESPONSE_TOKEN==Z.HmacSHA256(o,f.N.apiHashingKey).toString()?(n=x.lW.from(o,"base64"),200==(n=JSON.parse(n.toString())).status?this.complaint_managementlistPreview.push(n.result):r().fire({icon:"error",text:"Something Went Wrong!"})):r().fire({icon:"error",text:"Unauthorised Response!"})},n=>{r().fire({icon:"error",text:n})})}goToDraftView(e,a){let n=this.encDec.encText(e+":"+a+":"+this.roleId),o=sessionStorage.getItem("breadcrumbData"),c=JSON.parse(o);this.route.navigate(["/admin/view-letter-list/",n],{state:c})}onTableDataChange(e){this.page=e,this.indexNumber=(this.page-1)*this.tableSize;let a="summary",n=null;this.assignTab?(a="pending",n="assign"):this.reviewTab?(a="pending",n="review"):this.approvedTab?a="approved":this.rejectTab?a="reject":this.summaryTab?a="summary":(a=this.actionTakenOption.status,n=this.actionTakenOption.type),this.viewAllData(160,this.roleId,a,n)}onTableSizeChange(e){this.tableSize=e.target.value,this.indexNumber=0,this.page=1}loadListByOption(e,a){this.clearTabs(),this.actionTakenTab=!0,this.actionTakenOption.status=e,this.actionTakenOption.type=a,this.viewAllData("160",this.roleId,e,a)}search(){this.assignTab?this.loadPendingList("assign"):this.reviewTab?this.loadPendingList("review"):this.approvedTab?this.loadApprovedList():this.rejectTab?this.loadRejectList():this.summaryTab?this.loadSummeryList():this.actionTakenTab&&this.loadListByOption(this.actionTakenOption.status,this.actionTakenOption.type)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(m.qu),t.Y36(g.F0),t.Y36(g.gz),t.Y36(N.R),t.Y36(b.sK),t.Y36(I._),t.Y36(q.q),t.Y36(M.z),t.Y36(U._))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-applyviewcomplaint-management"]],decls:48,vars:28,consts:[[1,"page-title"],["id","AdminTab",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"ngClass","click"],[1,"tab-content"],[1,"indicate-mandatory"],[1,"search-section","mb-3"],["class","radio-option d-flex flex-wrap mb-4",4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"col-12","col-md-3","col-lg-3"],["type","text","placeholder","Enter Complaint No.","formControlName","txtFullName",1,"form-control"],["type","text","placeholder","Enter Contact Number","formControlName","txtContactNumber",1,"form-control"],[1,"d-grid","gap-2","d-sm-flex"],[1,"btn","btn-success",3,"click"],["type","reset",1,"btn","btn-orange",3,"click"],[4,"ngIf","ngIfElse"],["norecord",""],[1,"radio-option","d-flex","flex-wrap","mb-4"],[1,"me-3","d-flex","align-items-center"],["type","radio","name","filter","checked","",1,"me-2",3,"change"],["type","radio","name","filter",1,"me-2",3,"change"],[1,"table-responsive"],["data-toggle","table",1,"table"],["scope","col","width","40px"],["scope","col"],["scope","col","class","noPrint",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],["scope","col",1,"noPrint"],["href","javascript:void(0)","data-bs-toggle","modal",1,"text-primary",3,"click"],["tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","row g-4 mb-5",4,"ngFor","ngForOf"],[1,"app-heading","mb-4"],[1,"table"],[3,"innerHTML"],[4,"ngIf"],[1,"row","g-4","mb-5"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-6","col-xs-12"],[1,"appl-details"],[1,"title"],[1,"name"],["class","col-xl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12",4,"ngIf"],[3,"href"],["src","../../../assets/img/pdf.png","alt",""],["elseBlock1",""],["href","javascript:void(0);",1,"btn","btn-success","btn-sm",3,"click"],["block1",""],["href","javascript:void(0);",1,"btn","btn-orange","btn-sm",3,"click"],["target","_blank",3,"href"],[1,"bi","bi-file-earmark-pdf"],[1,"no-content"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"ul",1),t.YNc(5,O,4,4,"li",2),t.TgZ(6,"li",3)(7,"a",4),t.NdJ("click",function(){return n.loadPendingList("review")}),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",3)(11,"a",4),t.NdJ("click",function(){return n.loadApprovedList()}),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"li",3)(15,"a",4),t.NdJ("click",function(){return n.loadRejectList()}),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"li",3)(19,"a",4),t.NdJ("click",function(){return n.loadSummeryList()}),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"li",3)(23,"a",4),t.NdJ("click",function(){return n.loadListByOption("approved","Suspend")}),t._uU(24),t.ALo(25,"translate"),t.qZA()()(),t.TgZ(26,"div",5)(27,"div",6)(28,"span"),t._uU(29,"( * ) Indicates mandatory fields"),t.qZA()(),t.TgZ(30,"div",7),t.YNc(31,S,13,0,"div",8),t.TgZ(32,"form",9)(33,"div",10)(34,"div",11),t._UZ(35,"input",12),t.qZA(),t.TgZ(36,"div",11),t._UZ(37,"input",13),t.qZA(),t.TgZ(38,"div",11)(39,"div",14)(40,"button",15),t.NdJ("click",function(){return n.search()}),t._uU(41," Show"),t.qZA(),t._uU(42,"\xa0 "),t.TgZ(43,"button",16),t.NdJ("click",function(){return n.resetTextField()}),t._uU(44," Reset"),t.qZA()()()()()(),t.YNc(45,mt,23,18,"div",17),t.qZA(),t.YNc(46,rt,2,0,"ng-template",null,18,t.W1O)),2&a){const o=t.MAs(47);t.xp6(2),t.Oqu(t.lcZ(3,16,n.title)),t.xp6(3),t.Q6J("ngIf",n.canAssign),t.xp6(2),t.Q6J("ngClass",n.reviewTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(9,18,"Review")),t.xp6(3),t.Q6J("ngClass",n.approvedTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(13,20,"Approved")),t.xp6(3),t.Q6J("ngClass",n.rejectTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(17,22,"Reject")),t.xp6(3),t.Q6J("ngClass",n.summaryTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(21,24,"Summary")),t.xp6(3),t.Q6J("ngClass",n.actionTakenTab?"active":""),t.xp6(1),t.Oqu(t.lcZ(25,26,"Action Taken")),t.xp6(7),t.Q6J("ngIf",n.actionTakenTab),t.xp6(1),t.Q6J("formGroup",n.complaint_management),t.xp6(13),t.Q6J("ngIf",(null==n.complaint_managementlist?null:n.complaint_managementlist.length)>0)("ngIfElse",o)}},dependencies:[A.LS,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,_.mk,_.sg,_.O5,A._s,b.X$,_.uU],styles:[".search-section[_ngcontent-%COMP%]{background-color:#da90000d;padding:1rem;margin:1rem 0rem 2rem;border:1px dashed #ddd;border-radius:.5rem}"]})}return i})();var C=s(57622);const dt=[{path:"",component:T},{path:"",component:T,children:[{path:"applyviewcomplaint-management",component:y,canActivate:[C.a]},{path:"applyviewcomplaint-management/:id",component:y,canActivate:[C.a]}]}];let _t=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(dt),g.Bz]})}return i})();var gt=s(32267);let ut=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[A.JX,m.u5,m.UX,gt.X,_.ez,_t]})}return i})()}}]);