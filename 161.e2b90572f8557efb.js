"use strict";(self.webpackChunkewarehouse=self.webpackChunkewarehouse||[]).push([[161],{69161:(Ie,S,h)=>{h.r(S),h.d(S,{WebModule:()=>Oe});var f=h(96814),C=h(81303),U=h(13519),c=h.n(U),g=h(20553),P=h(39007),v=h(77874),t=h(65879),l=h(56223),O=h(78889),A=h(66755),T=h(84775),y=h(89515);function L(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.goToApply(a.intForUSerLogin,a.txtURL))}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9," | "),t.TgZ(10,"a",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.goToView(a.vchViewUrl))}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()}if(2&i){const e=m.$implicit,o=m.index,n=t.oxw(2);t.xp6(2),t.Oqu(n.tableSize*(n.page-1)+o+1),t.xp6(2),t.Oqu(e.txtLinkName),t.xp6(3),t.Oqu(t.lcZ(8,4,"Apply")),t.xp6(4),t.Oqu(t.lcZ(12,6,"view"))}}function E(i,m){if(1&i&&(t.TgZ(0,"div")(1,"div",5)(2,"table",6)(3,"thead")(4,"tr")(5,"th",7),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th",8),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",9),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,L,13,8,"tr",10),t.qZA()()(),t._UZ(16,"div",11),t.qZA()),2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,4,"Sl#")),t.xp6(3),t.Oqu(t.lcZ(10,6,"Form Name")),t.xp6(3),t.Oqu(t.lcZ(13,8,"Apply")),t.xp6(3),t.Q6J("ngForOf",e.manage_designationlist)}}function R(i,m){1&i&&(t.TgZ(0,"h6",14),t._uU(1,"No Record Found"),t.qZA())}let B=(()=>{class i{constructor(e,o,n,a,r,p,s){this.fb=e,this.route=o,this.router=n,this.commonService=a,this.vldChkLst=r,this.encDec=p,this.translate=s,this.manage_designationlistPreview=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.serviceURL=g.N.serviceURL,this.title="Apply Form List",this.fileURL=g.N.fileURL,this.formName="applyform/"}ngOnInit(){this.commonService.localEvent.subscribe(e=>this.translate.use(e)),this.viewAllData(),this.sessiontoken=sessionStorage.getItem("USER_SESSION")}onTableDataChange(e){this.page=e}onTableSizeChange(e){this.tableSize=e.target.value,this.page=1}viewAllData(){this.commonService.viewAll({intId:0},"adminconsole/getAllFormList").subscribe(o=>{let n=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==v.HmacSHA256(n,g.N.apiHashingKey).toString()){let p=P.lW.from(n,"base64");p=JSON.parse(p.toString()),200==p.status?this.manage_designationlist=p.result:c().fire({icon:"error",text:"Something Went Wrong!"})}else c().fire({icon:"error",text:"Unauthorised Response"})},o=>{c().fire({icon:"error",text:o})})}goToApply(e,o){if(1==e){let n=JSON.parse(this.sessiontoken);if(null==n||"null"==n){let a=this.encDec.encText(o.toString());this.route.navigate(["/web/web-login",a])}else this.route.navigateByUrl("/web/"+o)}else this.route.navigateByUrl("/web/"+o)}goToView(e){this.route.navigateByUrl("/web/"+e)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(l.qu),t.Y36(C.F0),t.Y36(C.gz),t.Y36(O.R),t.Y36(A._),t.Y36(T.q),t.Y36(y.sK))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-form-list"]],decls:9,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"page-title-web"],[4,"ngIf","ngIfElse"],["norecord",""],[1,"table-responsive"],["data-toggle","table",1,"table","table-bordered","valign-middle"],["scope","col","width","40px"],["scope","col"],["scope","col","width","200px",1,"noPrint"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["title","Apply",1,"text-white","mx-2","btn","btn-sm","btn-success",3,"click"],["title","view",1,"text-white","mx-2","btn","btn-sm","btn-primary",3,"click"],[1,"no-content"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,E,17,10,"div",3),t.YNc(7,R,2,0,"ng-template",null,4,t.W1O),t.qZA()()),2&o){const a=t.MAs(8);t.xp6(4),t.Oqu(t.lcZ(5,3,n.title)),t.xp6(2),t.Q6J("ngIf",(null==n.manage_designationlist?null:n.manage_designationlist.length)>0)("ngIfElse",a)}},dependencies:[f.sg,f.O5,y.X$]})}return i})();function J(i,m){if(1&i&&(t.TgZ(0,"option",7),t.ALo(1,"uppercase"),t.ALo(2,"uppercase"),t._uU(3),t.qZA()),2&i){const e=m.$implicit,o=t.oxw();t.Q6J("value",t.lcZ(1,3,e.vchAliasName))("selected",t.lcZ(2,5,e.vchAliasName)===o.setlangl),t.xp6(3),t.hij("",e.vchLanguageName," ")}}let F=(()=>{class i{constructor(e,o,n){this.commonservice=e,this.translate=o,this.router=n,this.getLanguageList=[]}ngOnInit(){this.getLanguagesitems()}changeLocale(e){localStorage.removeItem("userlang"),localStorage.setItem("userlang",e),this.commonservice.changeLocal(e)}getLanguagesitems(){this.commonservice.getLanguages({projectId:0}).subscribe(o=>{if(200==o.status){this.getLanguageList=o.result;let n=[];for(const a of this.getLanguageList)n.push(a.vchAliasName.toUpperCase());if(this.translate.addLangs(n),this.setlangl=localStorage.getItem("userlang"),this.setlangl){let a=this;setTimeout(()=>{a.changeLocale(this.setlangl)},500)}else this.translate.setDefaultLang("EN")}else c().fire({icon:"error",text:"Something Went wrong"})},o=>{c().fire({icon:"error",text:o})})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(O.R),t.Y36(y.sK),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-web"]],decls:13,vars:1,consts:[[1,"container","d-flex","justify-content-between"],[1,""],[1,"float-end"],["id","selLang",1,"d-flex","form-select",2,"width","100px",3,"change"],["langSelect",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"container","py-4","middle-container"],[3,"value","selected"]],template:function(o,n){if(1&o){const a=t.EpF();t.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4,"ewarehouse"),t.qZA()(),t.TgZ(5,"div",2)(6,"select",3,4),t.NdJ("change",function(){t.CHM(a);const p=t.MAs(7);return t.KtG(n.changeLocale(p.value))}),t.YNc(8,J,4,7,"option",5),t.qZA()()()(),t.TgZ(9,"div",6),t._UZ(10,"router-outlet"),t.qZA(),t.TgZ(11,"footer"),t._uU(12," \xa9ewarehouse\n"),t.qZA()}2&o&&(t.xp6(8),t.Q6J("ngForOf",n.getLanguageList))},dependencies:[l.YN,l.Kr,f.sg,C.lC,f.gd]})}return i})();var W=h(75204);function Y(i,m){1&i&&t._UZ(0,"span",23)}function z(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"input",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onClickNameOrFile())})("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.vchDocumentName=n)}),t.qZA()(),t.TgZ(5,"td")(6,"div",25)(7,"input",26),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onClickNameOrFile())})("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.vchDocumentFile=n)})("change",function(n){const r=t.CHM(e).index,p=t.oxw();return t.KtG(p.saveFileTemp(n,"documentFile"+r,r))}),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",27)(10,"a",28),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw();return t.KtG(r.removeFile(a))}),t._UZ(11,"i",29),t.qZA(),t.TgZ(12,"a",30),t._UZ(13,"i",31),t.qZA()()(),t.TgZ(14,"small",11),t._uU(15,"Only pdf, max size 2 mb"),t.qZA()(),t.TgZ(16,"td")(17,"button",32),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw();return t.KtG(r.deleteApiRow(a))}),t._UZ(18,"i",33),t.qZA()()()}if(2&i){const e=m.$implicit,o=m.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.s9C("name",e.vchDocumentName),t.MGl("id","DocumentName",o,""),t.Q6J("ngModel",e.vchDocumentName),t.xp6(3),t.s9C("name",e.vchDocumentFile),t.MGl("id","DocumentFile",o,""),t.Q6J("disabled",""==e.vchDocumentName.trim())("ngModel",e.vchDocumentFile),t.xp6(2),t.MGl("id","fileDownloadDiv_",o,""),t.xp6(1),t.MGl("id","DocumentFile",o,"")}}function V(i,m){1&i&&(t.TgZ(0,"div",34),t._UZ(1,"div",35),t.TgZ(2,"p"),t._uU(3,"Loading..."),t.qZA()())}let j=(()=>{class i{constructor(e,o,n,a,r,p,s,u){this.router=e,this.route=o,this.encDec=n,this.rplyFm=a,this.vldChkLst=r,this.fb=p,this.webcommonservices=s,this.comConfigServ=u,this.url="",this.schemeName="",this.schemeType="",this.dynamicCtrlDetails=[],this.loading=!1,this.submitted=!1,this.fileType="pdf",this.fileFileSize=1,this.gridType=1,this.fieldArray=[],this.newAttribute={},this.dynamicListArray=[],this.nameValid=!1,this.fileValid=!1,this.replyValid=!1,this.replyText="",this.arrUploadedFiles=[],this.btnSaveNextDisableStatus=!1,this.fileToUpload=null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(""!=e){let n=this.encDec.decText(e).split(":");this.serviceId=n[0],this.processId=n[1],this.prevurl=n[2],this.getQueryDetails(this.serviceId,this.processId)}}createItem(e){return this.rplyFm.group(e,{docSlno:[],docName:[],docFile:[]})}getQueryDetails(e,o){this.webcommonservices.getQueryDetails({intProcessId:o,intOnlineServiceId:e}).subscribe(a=>{let r=a.RESPONSE_DATA;if(a.RESPONSE_TOKEN==v.HmacSHA256(r,g.N.apiHashingKey).toString()){let u=P.lW.from(r,"base64");u=JSON.parse(u.toString()),200==u.status?(this.dynamicCtrlDetails=u.result,this.authMsg=this.dynamicCtrlDetails.txtNoting,this.date=this.dynamicCtrlDetails.dtActionTaken,this.schemeName=this.dynamicCtrlDetails.schemeName):417==u.status&&c().fire({icon:"error",text:u.msg})}else c().fire({icon:"error",text:"Something Went Wrong!"})})}addRow(){if(this.dynamicListArray.length){let e=this.dynamicListArray.some(o=>""==o.vchDocumentName);if(console.log(this.dynamicListArray,e),e)return}this.dynamicListArray.push({intAppDocId:"",vchDocumentName:"",vchDocumentFile:""})}onClickNameOrFile(){this.nameValid=!1,this.fileValid=!1,this.replyValid=!1}goToBack(){window.history.back()}deleteApiRow(e){c().fire({title:"Deleted!!",text:"User has been deleted successfully",icon:"success"}),this.dynamicListArray.splice(e,1)}submitReply(){if(""==this.replyText.trim())return c().fire({text:"Please reply",icon:"error"}),void(this.replyValid=!0);if(this.nameValid=this.dynamicListArray.some(n=>""==n.vchDocumentName),this.nameValid)return void c().fire({text:"Please, Mention file name",icon:"error"});if(this.fileValid=this.dynamicListArray.some(n=>""==n.vchDocumentFile),this.fileValid)return void c().fire({text:"Please, Upload Your Document",icon:"error"});let e=document.getElementById("txtMessage").value;const o=new FormData;o.append("remark",e),o.append("processId",this.processId),o.append("serviceId",this.serviceId),o.append("dynamicListArr",JSON.stringify(this.dynamicListArray)),o.append("arrUploadedFiles",JSON.stringify(this.arrUploadedFiles)),this.webcommonservices.queryReplyInsert(o).subscribe(n=>{200==n.status?c().fire({icon:"success",text:"Your Document Submitted Successfully!"}).then(r=>{r.isConfirmed&&this.router.navigateByUrl(this.prevurl)}):c().fire({icon:"error",text:"error"})})}saveFileTemp(e,o,n){const r=e.target.files,p=r[0].size,s=r[0];let u=!0;if(this.vldChkLst.validateFile(s.name.slice(s.name.lastIndexOf(".")+1),"pdf")||(u=!1,c().fire({icon:"error",text:"invalid file type"})),!this.vldChkLst.validateFileSize("pdf",p,"kb")){u=!1;let d="File size exceeds "+p+"KB.";c().fire({icon:"error",text:d})}if(!u)return document.getElementById(o).value="",!1;const _=new FormData;return _.append("file",r[0]),_.append("fileType","pdf"),_.append("fileSize",p),_.append("fileSizeType","kb"),this.btnSaveNextDisableStatus=!0,this.webcommonservices.saveFileToTemp(_).subscribe(d=>{console.log(d),200==d.status?(this.arrUploadedFiles.push(d.fileName),document.getElementById("fileDownloadDiv_"+n)?.querySelector(".downloadbtn")?.setAttribute("href",d.imageUrl),document.getElementById("fileDownloadDiv_"+n)?.classList.remove("d-none")):(document.getElementById(o).value="",c().fire({icon:"error",text:"error while uploading files"})),this.btnSaveNextDisableStatus=!1}),!0}removeFile(e){$("#DocumentFile"+e).val("")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(C.F0),t.Y36(C.gz),t.Y36(T.q),t.Y36(l.qu),t.Y36(A._),t.Y36(l.qu),t.Y36(W.m),t.Y36(O.R))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-webquery-reply"]],decls:55,vars:7,consts:[[1,"control-div"],[1,"card"],[1,"card-body"],[1,""],[1,"common-heading2","mb-3"],[1,"text-success"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[1,"form-label"],[3,"innerHTML"],[1,"text-danger"],["name","txtMessage","id","txtMessage","rows","4","cols","4",1,"form-control",3,"ngModel","ngModelChange"],["style","color:red ;",4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["colspan","6"],[1,"btn","btn-info",3,"click"],[1,"separator","separator-dashed","my-10"],[1,"text-center"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-warning","me-2",3,"click"],["class","loader",4,"ngIf"],[2,"color","red"],["type","text",1,"form-control",3,"name","ngModel","id","click","ngModelChange"],[1,"d-flex","align-items-center"],["type","file",1,"form-control",3,"disabled","name","ngModel","id","click","ngModelChange","change"],[1,"d-flex","justify-content-end","d-none",3,"id"],["href","javascript:void(0)","title","Remove file",1,"h4","text-danger","filesremovebtn","btn-sm",3,"id","click"],[1,"icon-trash"],["href","javascript:void(0)","target","_blank",1,"h4","downloadbtn"],[1,"icon-download-solid"],[1,"btn","btn-danger","px-2",3,"click"],[1,"icon-trash-alt"],[1,"loader"],[1,"loader-item"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Scheme Type: "),t.TgZ(6,"span",5),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12," Query Message "),t.qZA(),t._UZ(13,"div",10),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16," Query On "),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.qZA()(),t.TgZ(19,"div",8)(20,"label")(21,"span",11),t._uU(22,"*"),t.qZA(),t._uU(23," Reply "),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("ngModelChange",function(r){return n.replyText=r}),t.qZA(),t.YNc(25,Y,1,0,"span",13),t.qZA(),t.TgZ(26,"h5",9),t._uU(27," Additional Document "),t.qZA(),t.TgZ(28,"div",8)(29,"table",14)(30,"thead")(31,"tr")(32,"th"),t._uU(33,"Sl#"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Document Name"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Document Upload "),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Action"),t.qZA()()(),t.TgZ(40,"tbody"),t.YNc(41,z,19,10,"tr",15),t.TgZ(42,"tr"),t._UZ(43,"td",16),t.qZA(),t.TgZ(44,"tr")(45,"td",16)(46,"button",17),t.NdJ("click",function(){return n.addRow()}),t._uU(47," Add Document"),t.qZA()()()()()()(),t._UZ(48,"div",18),t.TgZ(49,"div",19)(50,"a",20),t.NdJ("click",function(){return n.goToBack()}),t._uU(51,"Back"),t.qZA(),t.TgZ(52,"a",21),t.NdJ("click",function(){return n.submitReply()}),t._uU(53,"Reply"),t.qZA()()()()()()(),t.YNc(54,V,4,0,"div",22)),2&o&&(t.xp6(7),t.Oqu(n.schemeName),t.xp6(6),t.s9C("innerHTML",n.authMsg,t.oJD),t.xp6(5),t.Oqu(n.date),t.xp6(6),t.Q6J("ngModel",n.replyText),t.xp6(1),t.Q6J("ngIf",n.replyValid),t.xp6(16),t.Q6J("ngForOf",n.dynamicListArray),t.xp6(13),t.Q6J("ngIf",n.loading))},dependencies:[l.Fj,l.JJ,l.On,f.sg,f.O5]})}return i})();var M=h(19045),Q=h(69862);let H=(()=>{class i{constructor(e){this.http=e}requestOtp(e){return this.http.post(`${g.N.serviceURL}getotp`,e)}validateOtp(e){return this.http.post(`${g.N.serviceURL}checkotp`,e)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(Q.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function K(i,m){1&i&&(t.TgZ(0,"small",12),t._uU(1,"Should start with 0"),t.qZA())}let G=(()=>{class i{constructor(e,o,n,a){this.router=e,this.apiService=o,this.registrationService=n,this.validatorService=a,this.userData={username:null,applicantName:null,mobile:null,email:null,postalAddress:null,postalCode:null,town:null,otp:null},this.isChecked=!1,this.invalidNumber=!1}ngOnInit(){}onSubmitLogin(){this.validatorService.blankCheck("applicantName",this.userData.applicantName,"Enter Applicant Name")&&this.validatorService.blankCheck("mobile",this.userData.mobile,"Enter Mobile Number")&&this.validatorService.isNumericKey("mobile",this.userData.mobile,"Mobile -")&&this.validatorService.minLength("mobile",this.userData.mobile,10,"Mobile Number")&&this.validatorService.blankCheck("postalAddress",this.userData.postalAddress,"Enter Postal Address")&&this.validatorService.blankCheck("postalCode",this.userData.postalCode,"Enter Postal Code")&&this.validatorService.minLength("postalCode",this.userData.postalCode,5,"Postal Code")&&this.validatorService.blankCheck("town",this.userData.town,"Enter Town")&&this.validatorService.blankCheck("email",this.userData.email,"Enter Email")&&this.validatorService.validEmail("email",this.userData.email,"Email Id")&&this.validatorService.blankCheck("otp",this.userData.otp,"Enter OTP")&&this.registrationService.validateOtp({email:this.userData.email,mobile:this.userData.mobile,otp:this.userData.otp,userid:""}).subscribe(n=>{n.status?this.apiService.postData(this.userData,"createTempUser").subscribe(a=>{if(200==a.status){c().fire({title:"Registration Successful",text:"Your Profile Credentials has been sent to your e-mail Address.",imageUrl:"assets/img/correct.png",imageWidth:80,imageHeight:80,showConfirmButton:!0,confirmButtonText:"Sign In",customClass:{title:"swal2-title-custom",confirmButton:"swal2-confirm-custom",popup:"swal2-responsive-width"},preConfirm:()=>{this.router.navigate(["/admin/login"])}});const r=document.createElement("style");r.innerHTML="\n                            .swal2-title-custom {\n                                font-size: 20px !important;\n                            }\n                            .swal2-confirm-custom {\n                                background-color: #E6A82E!important;\n                                box-shadow:none!important;\n                            }\n                            .swal2-confirm-custom:hover {\n                                background-color: #ff9800!important;\n                            }\n                            .swal2-responsive-width {\n                                width: 80% !important;\n                            }\n                            @media (min-width: 640px)\n                            {\n                                .swal2-responsive-width {\n                                    width: 600px !important;\n                                }\n                            \n                                .swal2-title-custom {\n                                    font-size: 25px !important;\n                                }\n                            }\n                        }\n                        ",document.head.appendChild(r)}else 409==a.status?c().fire({title:"Error",text:"Email/Mobile Number Already Exists",imageWidth:80,imageHeight:80,showConfirmButton:!0,confirmButtonText:"OK",customClass:{title:"swal2-title-custom",confirmButton:"swal2-confirm-custom",popup:"swal2-responsive-width"}}):c().fire({title:"Error",text:"Some Error Occurred. Please Try Again.",imageWidth:80,imageHeight:80,showConfirmButton:!0,confirmButtonText:"OK",customClass:{title:"swal2-title-custom",confirmButton:"swal2-confirm-custom",popup:"swal2-responsive-width"}})}):c().fire({title:"Error",text:"Invalid OTP"})})}requestOtp(){this.validatorService.blankCheck("mobile",this.userData.mobile,"Enter Mobile Number")&&this.validatorService.minLength("mobile",this.userData.mobile,10,"Mobile Number")&&this.registrationService.requestOtp({email:this.userData.email,mobile:this.userData.mobile,ip:"",userid:""}).subscribe(o=>{this.otp=o,c().fire({text:o.message})})}mobileStartsWithZero(e){this.invalidNumber=!1;let o=e.which?e.which:e.keyCode;return o>31&&(o<48||o>57)?(c().fire({icon:"error",text:"Only Numeric value allowed"}),!1):0!=document.getElementById("mobile")?.value?.length||48==o||(this.invalidNumber=!0,!1)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(C.F0),t.Y36(M.s),t.Y36(H),t.Y36(A._))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-registration-temp-user"]],decls:73,vars:8,consts:[[1,"login","d-grid"],[1,"login__container"],[1,"login__container__form","bg-white"],[1,"form__logo","mb-3","d-flex","justify-content-center","align-items-center"],["src","assets/img/wrms-logo.webp","alt","Warehouse Receipt System Council Logo"],[1,"form__logo__text","ms-3"],[1,"d-block","fw-bold"],[1,"form__heading","text-center","position-relative","pb-2","mb-4"],[1,"row","g-4","mb-5"],[1,"col-xxl-6","col-xl-4","col-sm-6"],[1,"login-form-group"],[1,"form-label"],[1,"text-danger"],["type","text","id","applicantName","maxlength","50",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","text","id","mobile","maxlength","10",1,"form-control",3,"ngModel","ngModelChange","keypress"],["class","text-danger",4,"ngIf"],["id","postalAddress","rows","1","maxlength","200",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","text","id","postalCode","maxlength","5",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","text","id","town","maxlength","20",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","email","id","email","maxlength","100",1,"form-control",3,"ngModel","ngModelChange","keypress"],[1,"input-group"],["type","text","id","otp","maxlength","6",1,"form-control",3,"ngModel","ngModelChange","keypress"],[1,"btn","btn-outline-success",3,"click"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-center"],["routerLink","/admin/login",1,"btn","btn-orange"],["type","submit",1,"btn","btn-success",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"div",5)(6,"span",6),t._uU(7,"WAREHOUSE RECEIPT SYSTEM COUNCIL"),t.qZA(),t.TgZ(8,"small"),t._uU(9,"Ministry of Investments, Trade and Industry"),t.qZA()()(),t.TgZ(10,"h5",7),t._uU(11,"Warehouse Operator Registration"),t.qZA(),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"label",11),t._uU(16,"Applicant Name"),t.TgZ(17,"span",12),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"input",13),t.NdJ("ngModelChange",function(r){return n.userData.applicantName=r})("keypress",function(r){return n.validatorService.isCharKey(r),n.validatorService.blockspecialchar_first(r)}),t.qZA()()(),t.TgZ(20,"div",9)(21,"div",10)(22,"label",11),t._uU(23,"Mobile Number"),t.TgZ(24,"span",12),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"input",14),t.NdJ("ngModelChange",function(r){return n.userData.mobile=r})("keypress",function(r){return n.mobileStartsWithZero(r)}),t.qZA(),t.YNc(27,K,2,0,"small",15),t.qZA()(),t.TgZ(28,"div",9)(29,"div",10)(30,"label",11),t._uU(31,"Postal Address"),t.TgZ(32,"span",12),t._uU(33,"*"),t.qZA()(),t.TgZ(34,"textarea",16),t.NdJ("ngModelChange",function(r){return n.userData.postalAddress=r})("keypress",function(r){return n.validatorService.blockspecialchar_first(r)}),t.qZA(),t.TgZ(35,"small",12),t._uU(36,"Max 200 characters Allowed"),t.qZA()()(),t.TgZ(37,"div",9)(38,"div",10)(39,"label",11),t._uU(40,"Postal Code"),t.TgZ(41,"span",12),t._uU(42,"*"),t.qZA()(),t.TgZ(43,"input",17),t.NdJ("ngModelChange",function(r){return n.userData.postalCode=r})("keypress",function(r){return n.validatorService.isNumberKey(r)}),t.qZA()()(),t.TgZ(44,"div",9)(45,"div",10)(46,"label",11),t._uU(47,"Town"),t.TgZ(48,"span",12),t._uU(49,"*"),t.qZA()(),t.TgZ(50,"input",18),t.NdJ("ngModelChange",function(r){return n.userData.town=r})("keypress",function(r){return n.validatorService.isCharKey(r),n.validatorService.blockspecialchar_first(r)}),t.qZA()()(),t.TgZ(51,"div",9)(52,"div",10)(53,"label",11),t._uU(54,"Email Id"),t.TgZ(55,"span",12),t._uU(56,"*"),t.qZA()(),t.TgZ(57,"input",19),t.NdJ("ngModelChange",function(r){return n.userData.email=r})("keypress",function(r){return n.validatorService.blockspecialchar_first(r)}),t.qZA()()(),t.TgZ(58,"div",9)(59,"div",10)(60,"label",11),t._uU(61,"Enter OTP"),t.TgZ(62,"span",12),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"div",20)(65,"input",21),t.NdJ("ngModelChange",function(r){return n.userData.otp=r})("keypress",function(r){return n.validatorService.isNumberKey(r)}),t.qZA(),t.TgZ(66,"button",22),t.NdJ("click",function(){return n.requestOtp()}),t._uU(67,"Get OTP"),t.qZA()()()()(),t.TgZ(68,"div",23)(69,"a",24),t._uU(70,"Back to Login"),t.qZA(),t.TgZ(71,"button",25),t.NdJ("click",function(){return n.onSubmitLogin()}),t._uU(72,"Register Now"),t.qZA()()()()()),2&o&&(t.xp6(19),t.Q6J("ngModel",n.userData.applicantName),t.xp6(7),t.Q6J("ngModel",n.userData.mobile),t.xp6(1),t.Q6J("ngIf",n.invalidNumber),t.xp6(7),t.Q6J("ngModel",n.userData.postalAddress),t.xp6(9),t.Q6J("ngModel",n.userData.postalCode),t.xp6(7),t.Q6J("ngModel",n.userData.town),t.xp6(7),t.Q6J("ngModel",n.userData.email),t.xp6(8),t.Q6J("ngModel",n.userData.otp))},dependencies:[l.Fj,l.JJ,l.nD,l.On,f.O5,C.rH],styles:['.login[_ngcontent-%COMP%]{place-items:center;height:100vh;background:url(login-bg.330c66ab264e61af.webp) bottom/cover no-repeat}@media only screen and (max-width: 767px){.login[_ngcontent-%COMP%]{background-image:none;place-items:unset}}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]{width:calc(531px + 332 * (100vw - 768px) / 1152)}@media only screen and (max-width: 767px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]{width:100%}}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]{box-shadow:25px 25px 99px #00000059;border-radius:1.125rem;padding:2rem}@media only screen and (max-width: 767px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}}@media only screen and (max-width: 530px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]{padding:1.5rem}}@media only screen and (max-width: 480px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]{flex-direction:column}}@media only screen and (max-width: 480px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px}}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]   .form__logo__text[_ngcontent-%COMP%]{line-height:1.125rem}@media only screen and (max-width: 480px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]   .form__logo__text[_ngcontent-%COMP%]{margin-left:0!important;margin-top:.5rem;text-align:center}}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]   .form__logo__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.93rem}@media only screen and (max-width: 375px){.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__logo[_ngcontent-%COMP%]   .form__logo__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__heading[_ngcontent-%COMP%]{font-weight:600}.login[_ngcontent-%COMP%]   .login__container[_ngcontent-%COMP%]   .login__container__form[_ngcontent-%COMP%]   .form__heading[_ngcontent-%COMP%]:after{content:"";position:absolute;height:1px;bottom:0;width:100px;left:50%;transform:translate(-50%);background-color:var(--wrms-orange-800)}']})}return i})();var X=h(47394),N=h(26732),k=h(41716),tt=h(63251),et=h(88663),w=h(76472),nt=h(27441),ot=h(57840),it=h(6348),at=h(5991),rt=h(37006),lt=h(77266),st=h(68167);function ct(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function mt(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.intId),t.xp6(1),t.hij(" ",e.txtSubCountyName," ")}}function pt(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.countyId),t.xp6(1),t.hij(" ",e.countyName,"")}}function dt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",91,92),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getApprovedSubCountyList(n))}),t.TgZ(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,pt,2,2,"option",37),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"County of Warehouse")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedCountyList)}}function ut(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.subCountyId),t.xp6(1),t.hij(" ",e.subCountyName," ")}}function gt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",93,94),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getApprovedIdAndShop(n))}),t.TgZ(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,ut,2,2,"option",37),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Sub-County of Warehouse")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedSubCountyList)}}function ht(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.applicationId),t.xp6(1),t.hij(" ",e.shop,"")}}function _t(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",95,96),t.NdJ("click",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.getOperatorName(n))}),t.TgZ(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,ht,2,2,"option",37),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Warehouse Shop Name")," "),t.xp6(8),t.Q6J("ngForOf",e.approvedShopList)}}function ft(i,m){1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t._UZ(6,"input",97),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Warehouse Operator")," "))}function Ct(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function bt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",98,99)(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,Ct,2,2,"option",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2," Name of Grader")," "),t.xp6(8),t.Q6J("ngForOf",e.graderList)}}function xt(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Pt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",100,101)(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,xt,2,2,"option",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Name of Collateral Manager")," "),t.xp6(8),t.Q6J("ngForOf",e.collateralList)}}function vt(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function yt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",102,103)(8,"option",36),t._uU(9,"--Select--"),t.qZA(),t.YNc(10,vt,2,2,"option",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"Name of Inspector")," "),t.xp6(8),t.Q6J("ngForOf",e.inspectorList)}}function Ot(i,m){if(1&i&&(t.TgZ(0,"option",90),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.s9C("value",e.complaintId),t.xp6(1),t.hij(" ",e.complaintType," ")}}function At(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"select",104,105)(8,"option",36),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Ot,2,2,"option",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"Type of Complain")," "),t.xp6(7),t.Oqu(t.lcZ(10,5,"--Select--")),t.xp6(2),t.Q6J("ngForOf",e.complaintTypes)}}function Tt(i,m){1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t._UZ(6,"input",106),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Date of Incident ")," "))}function Zt(i,m){1&i&&(t.TgZ(0,"div",28)(1,"label",29),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span",17),t._uU(5,"*"),t.qZA()(),t._UZ(6,"textarea",107),t.qZA()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Description of Incident")," "))}function Mt(i,m){1&i&&(t.TgZ(0,"div")(1,"small",17),t._uU(2,"Document Name is required."),t.qZA()())}function wt(i,m){1&i&&(t.TgZ(0,"div")(1,"small",17),t._uU(2,"Document file is required."),t.qZA()())}function St(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",120)(1,"button",121),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,a=t.oxw(2);return t.KtG(a.removesupporting_documents(n))}),t._UZ(2,"i",122),t.qZA()()}}function Ft(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",115)(2,"div",116)(3,"label",29),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"input",117),t.YNc(7,Mt,3,0,"div",59),t.qZA(),t.TgZ(8,"div",116)(9,"label",29),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",118),t.NdJ("change",function(n){const r=t.CHM(e).index,p=t.oxw(2);return t.KtG(p.addMoreUploadFile(n,"5","mb",r,"addMoreSupportingDocuments",["pdf","jpeg","jpg"]))}),t.qZA(),t.TgZ(13,"small",17),t._uU(14,"Only pdf,jpeg,jpg allowed, max size 5 mb"),t.qZA(),t.YNc(15,wt,3,0,"div",59),t.qZA(),t.YNc(16,St,3,0,"div",119),t.qZA()()}if(2&i){const e=m.index,o=t.oxw(2);let n,a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",t.lcZ(5,6,"Document Name")," "),t.xp6(3),t.Q6J("ngIf",(null==(n=o.addMoreSupportingDocuments.get("amtxtDocumentName"))?null:n.invalid)&&(null==(n=o.addMoreSupportingDocuments.get("amtxtDocumentName"))?null:n.touched)),t.xp6(3),t.hij("",t.lcZ(11,8,"Upload Documents")," "),t.xp6(5),t.Q6J("ngIf",(null==(a=o.addMoreSupportingDocuments.get("amfileUploadDocuments"))?null:a.invalid)&&(null==(a=o.addMoreSupportingDocuments.get("amfileUploadDocuments"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf",o.supporting_documents().length>1)}}function Nt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"h6",108),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",109)(5,"div",110)(6,"div",111),t.YNc(7,Ft,17,10,"div",112),t.qZA()(),t.TgZ(8,"div",113)(9,"button",114),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addsupporting_documents())}),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Supporting Documents")),t.xp6(5),t.Q6J("ngForOf",e.supporting_documents().controls),t.xp6(3),t.hij(" ",t.lcZ(11,5,"Add More")," ")}}function kt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"County of Warehouse"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selCountyofWarehouseVal)}}function Dt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Sub-County of Warehouse"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selSubCountyofWarehouseVal)}}function It(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Warehouse Shop Name"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selWarehouseShopNameVal)}}function qt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Warehouse Operator"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtWarehouseOperator)}}function Ut(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Name of Grader"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofGraderVal)}}function Lt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Name of Collateral Manager"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofCollateralManagerVal)}}function Et(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Name of Inspector"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selNameofInspectorVal)}}function Rt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Type of Complain"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.selTypeofComplainVal)}}function Bt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Date of Incident"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtDateofIncident)}}function Jt(i,m){if(1&i&&(t.TgZ(0,"div",28)(1,"div",137)(2,"p",138),t._uU(3,"Description of Incident"),t.qZA(),t.TgZ(4,"p",139),t._uU(5),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(e.txtrDescriptionofIncident)}}function Wt(i,m){if(1&i&&(t.TgZ(0,"div",27)(1,"div",28)(2,"div",137)(3,"p",138),t._uU(4,"Full Name"),t.qZA(),t.TgZ(5,"p",139),t._uU(6),t.qZA()()(),t.TgZ(7,"div",28)(8,"div",137)(9,"p",138),t._uU(10,"Contact Number"),t.qZA(),t.TgZ(11,"p",139),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",137)(15,"p",138),t._uU(16,"Email Address"),t.qZA(),t.TgZ(17,"p",139),t._uU(18),t.qZA()()(),t.TgZ(19,"div",28)(20,"div",137)(21,"p",138),t._uU(22,"Address"),t.qZA(),t.TgZ(23,"p",139),t._uU(24),t.qZA()()(),t.TgZ(25,"div",28)(26,"div",137)(27,"p",138),t._uU(28,"County"),t.qZA(),t.TgZ(29,"p",139),t._uU(30),t.qZA()()(),t.TgZ(31,"div",28)(32,"div",137)(33,"p",138),t._uU(34,"Sub County"),t.qZA(),t.TgZ(35,"p",139),t._uU(36),t.qZA()()(),t.TgZ(37,"h5",26),t._uU(38,"Complaint Details"),t.qZA(),t.TgZ(39,"div",28)(40,"div",137)(41,"p",138),t._uU(42,"Complaint Against"),t.qZA(),t.TgZ(43,"p",139),t._uU(44),t.qZA()()(),t.YNc(45,kt,6,1,"div",52),t.YNc(46,Dt,6,1,"div",52),t.YNc(47,It,6,1,"div",52),t.YNc(48,qt,6,1,"div",52),t.YNc(49,Ut,6,1,"div",52),t.YNc(50,Lt,6,1,"div",52),t.YNc(51,Et,6,1,"div",52),t.YNc(52,Rt,6,1,"div",52),t.YNc(53,Bt,6,1,"div",52),t.YNc(54,Jt,6,1,"div",52),t.qZA()),2&i){const e=m.$implicit;t.xp6(6),t.Oqu(e.txtFullName?e.txtFullName:"---"),t.xp6(6),t.Oqu(e.txtContactNumber?e.txtContactNumber:"---"),t.xp6(6),t.Oqu(e.txtEmailAddress?e.txtEmailAddress:"---"),t.xp6(6),t.Oqu(e.txtrAddress?e.txtrAddress:"---"),t.xp6(6),t.Oqu(e.selCountyVal),t.xp6(6),t.Oqu(e.selSubCountyVal),t.xp6(8),t.Oqu(e.rdoComplaintAgainstVal),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","103"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","102"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==e.rdoComplaintAgainst||"102"==e.rdoComplaintAgainst||"103"==e.rdoComplaintAgainst||"104"==e.rdoComplaintAgainst)}}function Yt(i,m){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",140),t._UZ(5,"img",141),t._uU(6),t.qZA()()()),2&i){const e=m.$implicit,o=t.oxw(4);t.xp6(2),t.Oqu(e.amtxtDocumentName),t.xp6(2),t.hYB("href","",o.serviceURL,"complaint-management/complaint-management/download/",e.amfileUploadDocuments,"",t.LSH),t.xp6(2),t.AsE("",e.amtxtDocumentName,".",e.amfileUploadDocuments.split(".").pop(),"")}}function zt(i,m){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Yt,7,5,"tr",112),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.Q6J("ngForOf",e.addMoreSupportingDocuments)}}function Vt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"a",142),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.showHistoryData(n.intProcessId,n.intId,0,n.rdoComplaintAgainst))}),t._UZ(1,"i",143),t.qZA()}}function $t(i,m){1&i&&(t.TgZ(0,"p"),t._uU(1,"Action Not Started"),t.qZA())}function jt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",130),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.previewDetailsView(a.intId))}),t._uU(5),t.qZA(),t.TgZ(6,"div",131)(7,"div",132)(8,"div",80)(9,"div",81)(10,"h5",133),t._uU(11,"Preview Details"),t.qZA(),t._UZ(12,"button",83),t.qZA(),t.TgZ(13,"div",84)(14,"h5",26),t._uU(15,"Complainant's Information"),t.qZA(),t.YNc(16,Wt,55,17,"div",134),t.TgZ(17,"h5",26),t._uU(18,"Supporting Documents"),t.qZA(),t.TgZ(19,"div",123)(20,"table",135)(21,"thead")(22,"tr")(23,"th"),t._uU(24,"Document Name"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Upload Documents"),t.qZA()()(),t.YNc(27,zt,2,1,"tbody",112),t.qZA()()()()()()(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"replaceUnderscore"),t.qZA(),t.TgZ(38,"td"),t.YNc(39,Vt,2,0,"a",136),t.YNc(40,$t,2,0,"p",59),t.qZA()()}if(2&i){const e=m.$implicit,o=m.index,n=t.oxw(2);t.xp6(2),t.Oqu(o+1+n.indexNumber),t.xp6(2),t.uIk("data-bs-target","#previewModal"+o),t.xp6(1),t.Oqu(e.complaintNo),t.xp6(1),t.MGl("id","previewModal",o,""),t.xp6(10),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(11),t.Q6J("ngForOf",n.complaint_managementlistPreview),t.xp6(2),t.Oqu(t.xi3(30,12,e.txtDateofIncident,"dd-MMM-yyyy")),t.xp6(3),t.Oqu(e.selTypeofComplainVal),t.xp6(2),t.Oqu(e.pendingATUser),t.xp6(2),t.Oqu(t.lcZ(37,15,e.applicationStatus)),t.xp6(3),t.Q6J("ngIf","PENDING"!=e.applicationStatus),t.xp6(1),t.Q6J("ngIf","PENDING"==e.applicationStatus)}}const Qt=function(i,m,e){return{itemsPerPage:i,currentPage:m,totalItems:e}};function Ht(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",123)(2,"table",124)(3,"thead")(4,"tr")(5,"th",125),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th",126),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",126),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",126),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",126),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",127),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th",127),t._uU(24),t.ALo(25,"translate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,jt,41,17,"tr",112),t.ALo(28,"paginate"),t.qZA()()(),t.TgZ(29,"div",128)(30,"pagination-controls",129),t.NdJ("pageChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.onTableDataChange(n))}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,8,"Sl#")),t.xp6(3),t.Oqu(t.lcZ(10,10,"Complaint No.")),t.xp6(3),t.Oqu(t.lcZ(13,12,"Date of incident")),t.xp6(3),t.Oqu(t.lcZ(16,14,"Complaint Category")),t.xp6(3),t.Oqu(t.lcZ(19,16,"Pending At")),t.xp6(3),t.Oqu(t.lcZ(22,18,"Application Status")),t.xp6(3),t.Oqu(t.lcZ(25,20,"Action")),t.xp6(3),t.Q6J("ngForOf",t.xi3(28,22,e.complaint_managementlist,t.kEZ(25,Qt,e.tableSize,e.page,e.count)))}}function Kt(i,m){1&i&&(t.TgZ(0,"h6",144),t._uU(1,"Data Not Found"),t.qZA())}function Gt(i,m){if(1&i&&(t.TgZ(0,"div",148)(1,"div",150)(2,"div",151)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",152),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.txtNoting),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dtActionTaken,"dd MMM yyyy ,h:mm a"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function Xt(i,m){if(1&i&&(t.TgZ(0,"div",148)(1,"div",150)(2,"div",151)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",152),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.txtNoting),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dtActionTaken,"dd MMM yyyy ,h:mm a"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function te(i,m){if(1&i&&(t.TgZ(0,"div",145)(1,"div",146),t.YNc(2,Gt,15,6,"div",147),t.TgZ(3,"div",148)(4,"p",149),t._uU(5),t.qZA()(),t.YNc(6,Xt,15,6,"div",147),t.qZA()()),2&i){const e=m.$implicit,o=m.index;t.xp6(1),t.Q6J("ngClass",o%2==0?"timeline-left":"timeline-right"),t.xp6(1),t.Q6J("ngIf",o%2==0),t.xp6(3),t.hij(" ",e.vchRolename?e.vchRolename:"Applicant"," "),t.xp6(1),t.Q6J("ngIf",o%2!=0)}}let ee=(()=>{class i{constructor(e,o,n,a,r,p,s,u,_,d,b){this.fb=e,this.route=o,this.router=n,this.commonService=a,this.vldChkLst=r,this.translate=p,this.encDec=s,this.apiService=u,this.conformityService=_,this.alertService=d,this.workflowService=b,this.complaint_managementlistPreview=[],this.page=1,this.count=0,this.tableSize=10,this.indexNumber=0,this.pageSizes=[10,20,50,100,500,1e3],this.serviceURL=g.N.serviceURL,this.title="Complaint Management",this.formName="complaint_management/",this.userid=0,this.storaheurl=g.N.fileURL,this.verifystatichidtory=[],this.subscriptions=new X.w0,this.userIntId=5,this.userid=5,this.complaint_management=this.fb.group({intId:"",txtFullName:"",txtContactNumber:"",txtEmailAddress:"",txtrAddress:"",selCounty:0,selSubCounty:0,rdoComplaintAgainst:0,selCountyofWarehouse:0,selSubCountyofWarehouse:0,selWarehouseShopName:0,txtWarehouseOperator:"",selNameofGrader:0,selNameofCollateralManager:0,selNameofInspector:0,selTypeofComplain:0,txtDateofIncident:"",txtrDescriptionofIncident:"",documentRequired:"",addMoreSupportingDocuments:this.fb.array([]),chkdeclartion:!1,intCreatedBy:0}),this.complaint_management_search=this.fb.group({intId:"",txtFullName:"",txtContactNumber:""})}ngOnInit(){this.commonService.localEvent.subscribe(o=>this.translate.use(o)),this.supporting_documents().push(this.newsupporting_documents());let e=this.router.snapshot.paramMap.get("id");if(""!=e){let n=this.encDec.decText(e).split(":");this.itemID=n[0],this.resubmitstatus=n[1],this.linkId=n[2],this.itemID>0&&this.previewDetails(this.itemID),this.linkId>0&&this.getRoleWisePermissionDetails(this.linkId,this.userid,this.userIntId)}this.getCountyList(),this.getApprovedCountyList(),this.getInspectorList(),this.getCollateralList(),this.getGraderList(),this.complaint_management.get("rdoComplaintAgainst")?.valueChanges.subscribe(o=>{this.onRadioButtonChange(o)}),this.complaint_management.get("documentRequired")?.valueChanges.subscribe(o=>{"required"==o?(0===this.addMoreSupportingDocuments.length&&this.supporting_documents().push(this.newsupporting_documents()),this.addMoreSupportingDocuments.controls.forEach(n=>{n.get("amtxtDocumentName").setValidators([l.kI.required]),n.get("amfileUploadDocuments").setValidators([l.kI.required]),n.get("amtxtDocumentName").updateValueAndValidity(),n.get("amfileUploadDocuments").updateValueAndValidity()})):"notRequired"==o&&(this.clearSupportingDocuments(),this.addMoreSupportingDocuments.controls.forEach(n=>{n.get("amtxtDocumentName").clearValidators(),n.get("amfileUploadDocuments").clearValidators(),n.get("amtxtDocumentName").updateValueAndValidity(),n.get("amfileUploadDocuments").updateValueAndValidity()}))})}onClickView(){this.complaint_management_search.reset(),this.complaint_managementlist=[]}onRadioButtonChange(e){101==e?this.getAllComplaintTypesByRoleId(6):102==e?this.getAllComplaintTypesByRoleId(3):103==e?this.getAllComplaintTypesByRoleId(46):104==e&&this.getAllComplaintTypesByRoleId(47)}patchUserDetails(e){this.complaint_management.patchValue({txtFullName:e?.fullName,txtContactNumber:e?.contactNumber,txtEmailAddress:e?.email,txtrAddress:e?.address})}getRoleWisePermissionDetails(e,o,n){this.commonService.getRoleWisePermissionDetails({linkId:e,RoleId:o,userId:n}).subscribe(r=>{if(200==r.status){let p=r.result;this.permissionadd=p.add,this.permissionview=p.view,this.permissionedit=p.edit,this.permissiondelete=p.delete,this.permissionpublish=p.publish}else 417==r.status?c().fire({icon:"error",text:r.msg}):c().fire({icon:"error",text:"Something Went Wrong!"})},r=>{c().fire({icon:"error",text:r})})}gotoView(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/viewcomplaint-management",o],{state:a})}gotoadd(e){let o=this.encDec.encText(e.toString()),n=sessionStorage.getItem("breadcrumbData"),a=JSON.parse(n);this.route.navigate(["/admin/complaint-management/addcomplaint-management",o],{state:a})}supporting_documents(){return this.complaint_management.get("addMoreSupportingDocuments")}newsupporting_documents(){return this.fb.group({amtxtDocumentName:"",amfileUploadDocuments:""})}get addMoreSupportingDocuments(){return this.complaint_management.get("addMoreSupportingDocuments")}clearSupportingDocuments(){this.addMoreSupportingDocuments.clear()}addsupporting_documents(){let e=0,o=this.complaint_management.value.addMoreSupportingDocuments;if(o.length>0){for(let n=0;n<o.length;n++){let a=o[n].amtxtDocumentName,r=o[n].amfileUploadDocuments;0==e&&!this.vldChkLst.blankCheck("amtxtDocumentName",a,"Document Name Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("amtxtDocumentName",a,50,"Document Name")&&(e=1),0==e&&!this.vldChkLst.isSpecialCharKey("amtxtDocumentName",a,"Document Name")&&(e=1),0==e&&!this.vldChkLst.blankCheck("amfileUploadDocuments",r,"Upload Documents Cannot be Blank!")&&(e=1)}0==e&&this.supporting_documents().push(this.newsupporting_documents())}}removesupporting_documents(e){this.supporting_documents().removeAt(e)}submitForm(){let e=0;this.complaint_management.value.intId=this.itemID;let n=this.complaint_management.value.txtFullName,a=this.complaint_management.value.txtContactNumber,r=this.complaint_management.value.txtEmailAddress,p=this.complaint_management.value.txtrAddress,s=this.complaint_management.value.selCounty,u=this.complaint_management.value.selSubCounty,d=this.complaint_management.value.rdoComplaintAgainst,b=this.complaint_management.value.selCountyofWarehouse,Z=this.complaint_management.value.selSubCountyofWarehouse,Ae=this.complaint_management.value.selWarehouseShopName,D=this.complaint_management.value.txtWarehouseOperator,Te=this.complaint_management.value.selNameofGrader,Ze=this.complaint_management.value.selNameofCollateralManager,Me=this.complaint_management.value.selNameofInspector,we=this.complaint_management.value.selTypeofComplain,Se=this.complaint_management.value.txtDateofIncident,I=this.complaint_management.value.txtrDescriptionofIncident,Fe=this.complaint_management.value.chkdeclartion;0==e&&!this.vldChkLst.blankCheck("txtFullName",n,"Full Name Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtFullName",n,50,"Full Name")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtContactNumber",a,"Contact Number Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtContactNumber",a,10,"Contact Number")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtEmailAddress",r,"Email Address Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtEmailAddress",r,100,"Email Address")&&(e=1),0==e&&!this.vldChkLst.blankCheck("txtrAddress",p,"Address Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtrAddress",p,150,"Address")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("selCounty",s,"County")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("selSubCounty",u,"Sub County")&&(e=1),0==e&&!this.vldChkLst.BlankCheckRdoDropChk("rdoComplaintAgainst",d,"Complaint Against")&&(e=1),0==e&&("101"==d||"103"==d||"104"==d)&&!this.vldChkLst.BlankCheckRdoDropChk("selCountyofWarehouse",b,"County of Warehouse")&&(e=1),0==e&&("101"==d||"103"==d||"104"==d)&&!this.vldChkLst.BlankCheckRdoDropChk("selSubCountyofWarehouse",Z,"Sub-County of Warehouse")&&(e=1),0==e&&("101"==d||"103"==d||"104"==d)&&!this.vldChkLst.BlankCheckRdoDropChk("selWarehouseShopName",Ae,"Warehouse Shop Name")&&(e=1),0==e&&("101"==d||"103"==d||"104"==d)&&!this.vldChkLst.blankCheck("txtWarehouseOperator",D,"Warehouse Operator Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtWarehouseOperator",D,50,"Warehouse Operator")&&(e=1),0==e&&"104"==d&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofGrader",Te," Name of Grader")&&(e=1),0==e&&"103"==d&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofCollateralManager",Ze,"Name of Collateral Manager")&&(e=1),0==e&&"102"==d&&!this.vldChkLst.BlankCheckRdoDropChk("selNameofInspector",Me,"Name of Inspector")&&(e=1),0==e&&("101"==d||"102"==d||"103"==d||"104"==d)&&!this.vldChkLst.BlankCheckRdoDropChk("selTypeofComplain",we,"Type of Complain")&&(e=1),0==e&&("101"==d||"102"==d||"103"==d||"104"==d)&&!this.vldChkLst.blankCheck("txtDateofIncident",Se,"Date of Incident  Cannot be Blank!")&&(e=1),0==e&&("101"==d||"102"==d||"103"==d||"104"==d)&&!this.vldChkLst.blankCheck("txtrDescriptionofIncident",I,"Description of Incident Cannot be Blank!")&&(e=1),0==e&&!this.vldChkLst.maxLength("txtrDescriptionofIncident",I,200,"Description of Incident")&&(e=1),0==e&&0==Fe&&(e=1,c().fire("Please check the declaration.")),0==e&&this.commonService.insertData(this.complaint_management.value,"complaint-management/complaint-management/addEdit").subscribe(x=>{let q=x.RESPONSE_DATA;x.RESPONSE_TOKEN==v.HmacSHA256(q,g.N.apiHashingKey).toString()?(x=P.lW.from(q,"base64"),200==(x=JSON.parse(x.toString())).status?c().fire({text:"Record Inserted Successfully. Your Complaint No. is : "+x.complaintNo,icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(De=>{this.gotoViewPage(),this.complaint_management.reset()}):202==x.status?c().fire({text:"Record Updated Successfully",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(De=>{this.gotoViewPage(),this.complaint_management.reset()}):502==x.status?c().fire({icon:"error",text:x.errMsg}):c().fire({icon:"error",text:"Something Went wrong"})):c().fire({icon:"error",text:"Invalid Response"})},x=>{c().fire({icon:"error",text:x})})}gotoViewPage(){const e=document.getElementById("view-tab");e&&e.click()}previewDetails(e){this.commonService.viewAll({intId:e},"complaint-management/complaint-management/preview").subscribe(n=>{let a=n.RESPONSE_DATA;if(n.RESPONSE_TOKEN==v.HmacSHA256(a,g.N.apiHashingKey).toString())if(n=P.lW.from(a,"base64"),200==(n=JSON.parse(n.toString())).status){let s=n.result;if(Object.keys(s).length){if(this.complaint_management.patchValue({intId:this.itemID,hedComplainantsInformation:s.hedComplainantsInformation?s.hedComplainantsInformation:"",txtFullName:s.txtFullName?s.txtFullName:"",txtContactNumber:s.txtContactNumber?s.txtContactNumber:"",txtEmailAddress:s.txtEmailAddress?s.txtEmailAddress:"",txtrAddress:s.txtrAddress?s.txtrAddress:"",selCounty:s.selCounty?s.selCounty:0,selSubCounty:s.selSubCounty?s.selSubCounty:0,hedComplaintInformation:s.hedComplaintInformation?s.hedComplaintInformation:"",rdoComplaintAgainst:s.rdoComplaintAgainst?s.rdoComplaintAgainst:0,selCountyofWarehouse:s.selCountyofWarehouse?s.selCountyofWarehouse:0,selSubCountyofWarehouse:s.selSubCountyofWarehouse?s.selSubCountyofWarehouse:0,selWarehouseShopName:s.selWarehouseShopName?s.selWarehouseShopName:0,txtWarehouseOperator:s.txtWarehouseOperator?s.txtWarehouseOperator:"",selNameofGrader:s.selNameofGrader?s.selNameofGrader:0,selNameofCollateralManager:s.selNameofCollateralManager?s.selNameofCollateralManager:0,selNameofInspector:s.selNameofInspector?s.selNameofInspector:0,selTypeofComplain:s.selTypeofComplain?s.selTypeofComplain:0,txtDateofIncident:s.txtDateofIncident?s.txtDateofIncident:"",txtrDescriptionofIncident:s.txtrDescriptionofIncident?s.txtrDescriptionofIncident:"",hedSupportingDocuments:s.hedSupportingDocuments?s.hedSupportingDocuments:"",addMoreSupportingDocuments:s.addMoreSupportingDocuments?s.addMoreSupportingDocuments:"",chkdeclartion:!!s.chkdeclartion&&s.chkdeclartion}),s.addMoreSupportingDocuments.length>0){const d=this.complaint_management.controls.addMoreSupportingDocuments;for(let b=d.length-1;b>=0;b--)d.removeAt(b)}s.addMoreSupportingDocuments.forEach(d=>{var b=this.fb.group({amtxtDocumentName:d.amtxtDocumentName||"",amfileUploadDocuments:d.amfileUploadDocuments||""});this.complaint_management.get("addMoreSupportingDocuments").push(b)})}}else c().fire({icon:"error",text:"Something Went Wrong!"});else c().fire({icon:"error",text:"Invalid Response"})},n=>{c().fire({icon:"error",text:n})})}addMoreUploadFile(e,o,n,a,r,p){let s=e.target.files[0],u=e.target.id,_=!0;if(this.vldChkLst.validateFile(s.name.slice(s.name.lastIndexOf(".")+1),p)||(_=!1,c().fire({icon:"error",text:"invalid file type"})),!this.vldChkLst.validateFileSize(s.size,o,n)){_=!1;let d="";d="kb"==n.toLowerCase()?"File size exceeds "+o+"KB.":"File size exceeds "+o+"MB.",c().fire({icon:"error",text:d})}if(_){const d=new FormData;d.append("file",s),this.commonService.saveFileToTemp(d).subscribe(b=>{if(200==b.status){var Z={};Z[u]=b.fileName,this.complaint_management.get(r).at(a).patchValue(Z)}else c().fire({icon:"error",text:"error while uploading files"})},b=>{c().fire({icon:"error",text:b})})}}onReset(){this.complaint_management.reset()}onCancel(){}getCountyList(){this.conformityService.getCountyList().subscribe({next:e=>{const o=atob(e.RESPONSE_DATA),n=JSON.parse(o);this.countyList=n.result},error:e=>{console.log(e)}})}getSubCountyList(e){const o=parseInt(e.target.value,10);this.apiService.getData(g.N.subCountyGetByCountyURL+"/"+o).subscribe({next:n=>{console.log(n),this.subCountyList=n.result},error:n=>{console.log(n)}})}getAllComplaintTypes(){this.subscriptions.add(this.apiService.getData(g.N.getAllComplaintType).subscribe({next:e=>{console.log(e.result),this.complaintTypes=e.result},error:e=>this.alertService.showError(e.error.message||N.F.generalError)}))}getAllComplaintTypesByRoleId(e){this.subscriptions.add(this.apiService.getData(`${g.N.getAllComplaintType}/${e}`).subscribe({next:o=>{console.log(o.result),this.complaintTypes=o.result},error:o=>this.alertService.showError(o.error.message||N.F.generalError)}))}getApprovedCountyList(){this.apiService.getData(`${g.N.getApprovedCountyListUrl}`).subscribe({next:e=>{this.approvedCountyList=e.result},error:e=>{console.error(e)}})}getApprovedSubCountyList(e){const o=parseInt(e.target.value,10);this.apiService.getData(g.N.getApprovedSubCountyListUrl+"/"+o).subscribe({next:n=>{console.log(n),this.approvedSubCountyList=n.result},error:n=>{console.log(n)}})}getApprovedIdAndShop(e){const o=parseInt(e.target.value,10),n=this.complaint_management.get("selCountyofWarehouse")?.value;this.apiService.getData(g.N.getApprovedIdAndShopUrl+"/"+n+"/"+o).subscribe({next:a=>{console.log(a),this.approvedShopList=a.result},error:a=>{console.log(a)}})}getOperatorName(e){const o=e.target.value;"0"!=o&&this.apiService.getData(g.N.getOperatorNameUrl+"/"+o).subscribe({next:n=>{console.log(n),null==n.result?(c().fire("Name not found"),this.complaint_management.patchValue({selWarehouseShopName:0})):this.complaint_management.patchValue({txtWarehouseOperator:n.result})},error:n=>{console.log(n)}})}getInspectorList(){this.apiService.getData(`${g.N.getInspectorsListUrl}`).subscribe({next:e=>{this.inspectorList=e.result},error:e=>{console.error(e)}})}getCollateralList(){this.apiService.getData(`${g.N.getCollateralListUrl}`).subscribe({next:e=>{this.collateralList=e.result},error:e=>{console.error(e)}})}getGraderList(){this.apiService.getData(`${g.N.getGraderListUrl}`).subscribe({next:e=>{this.graderList=e.result},error:e=>{console.error(e)}})}onResetSearch(){this.onClickView()}viewAllData(e,o){this.commonService.viewAll({intId:0,pageNo:e,size:o,intCreatedBy:0},"complaint-management/complaint-management/all").subscribe(a=>{let r=a.RESPONSE_DATA;a.RESPONSE_TOKEN==v.HmacSHA256(r,g.N.apiHashingKey).toString()?(a=P.lW.from(r,"base64"),200==(a=JSON.parse(a.toString())).status?(this.complaint_managementlist=a.result,this.count=a.count):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},a=>{c().fire({icon:"error",text:a})})}onTableDataChange(e){this.page=e,this.indexNumber=(this.page-1)*this.tableSize,this.viewAllData(this.page,this.tableSize)}onTableSizeChange(e){this.tableSize=e.target.value,this.indexNumber=0,this.page=1}viewSearchList(){let e=0;this.complaint_managementlist=[],e=""!=this.complaint_management_search.get("txtFullName")?.value&&null!=this.complaint_management_search.get("txtFullName")?.value||""!=this.complaint_management_search.get("txtContactNumber")?.value&&null!=this.complaint_management_search.get("txtContactNumber")?.value?0:1,0==e&&this.commonService.viewAll(this.complaint_management_search.value,"complaint-management/complaint-management/all").subscribe(o=>{let n=o.RESPONSE_DATA;o.RESPONSE_TOKEN==v.HmacSHA256(n,g.N.apiHashingKey).toString()?(o=P.lW.from(n,"base64"),200==(o=JSON.parse(o.toString())).status?(this.complaint_managementlist=o.result,this.count=0,this.complaint_management.reset()):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},o=>{c().fire({icon:"error",text:o})})}previewDetailsView(e){this.complaint_managementlistPreview=[],this.commonService.viewAll({intId:e},"complaint-management/complaint-management/preview").subscribe(n=>{let a=n.RESPONSE_DATA;n.RESPONSE_TOKEN==v.HmacSHA256(a,g.N.apiHashingKey).toString()?(n=P.lW.from(a,"base64"),200==(n=JSON.parse(n.toString())).status?this.complaint_managementlistPreview.push(n.result):c().fire({icon:"error",text:"Something Went Wrong!"})):c().fire({icon:"error",text:"Invalid Response"})},n=>{c().fire({icon:"error",text:n})})}deleteData(e){let o={intId:e};c().fire({title:"Are you sure?",text:"You Want to Delete This Record!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.commonService.deleteRecord(o,"complaint-management/complaint-management/delete").subscribe(a=>{let r=a.RESPONSE_DATA;a.RESPONSE_TOKEN==v.HmacSHA256(r,g.N.apiHashingKey).toString()?(a=P.lW.from(r,"base64"),200==(a=JSON.parse(a.toString())).status?(c().fire("Deleted!","Successfully!","success"),this.viewAllData(this.page,this.tableSize)):c().fire({icon:"error",text:"Error In Database!"})):c().fire({icon:"error",text:"Invalid Response"})},a=>{c().fire({icon:"error",text:a})})})}goToQuery(e,o){let a=this.encDec.encText(e+":"+o+":"+this.route.url);this.route.navigateByUrl("web/webquery-reply/"+a)}goToResubmit(e,o,n){let a=this.encDec.encText(e+":"+n.toString()+":"+o);this.route.navigate(["admin/complaint-management/complaint-management/",a])}showAllResubmit(e,o){this.resubmitHistory=[],this.workflowService.noResubmitHistory({processId:e,serviceId:o},"noResubmitStatus").subscribe(a=>{let r=a.RESPONSE_DATA;if(a.RESPONSE_TOKEN==v.HmacSHA256(r,g.N.apiHashingKey).toString()){let u=P.lW.from(r,"base64");u=JSON.parse(u.toString()),200==u.status?this.resubmitHistory=u.result:417==u.status&&c().fire({icon:"error",text:"invalid Request"})}else c().fire({icon:"error",text:"something went Wrong"})})}editData(e){let o=this.encDec.encText(e.toString());this.route.navigate(["admin/complaint-management/complaint-management",o])}showHistoryData(e,o,n,a){this.workflowService.getNotingList({intId:e,onlineServiceId:o,roleId:n,lableId:a},"getNotingDetails").subscribe(p=>{let s=p.RESPONSE_DATA;if(p.RESPONSE_TOKEN==v.HmacSHA256(s,g.N.apiHashingKey).toString()){let d=P.lW.from(s,"base64");d=JSON.parse(d.toString()),200==d.status?(this.notingList=d.result,console.log(this.notingList),this.verifystatichidtory=this.notingList[0].verifyDocuments):c().fire({icon:"error",text:"Something Went Wrong!"})}else c().fire({icon:"error",text:"Unauthorised Response"})},p=>{c().fire({icon:"error",text:p})})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(l.qu),t.Y36(C.F0),t.Y36(C.gz),t.Y36(O.R),t.Y36(A._),t.Y36(y.sK),t.Y36(T.q),t.Y36(M.s),t.Y36(k.s),t.Y36(tt.c),t.Y36(et.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-external-complaint-form"]],decls:197,vars:74,consts:[[1,"navbar"],[1,"container-fluid"],[1,"navbar__logo"],["routerLink","./particular-application",1,"d-flex","align-items-center"],["src","assets/img/wrms-logo.webp","alt","Warehouse Receipt System Council Logo"],[1,"logo-text"],[1,"d-block"],[1,"navbar-nav","flex-row","align-items-center"],[1,"language-dropdown"],["src","assets/img/language.webp","alt","language image"],["value","1","selected",""],["href","/admin/login",1,"d-block","back-login","text-white","ps-3"],[1,"websection"],[1,"websection__content","container"],[1,"card"],[1,"card-header"],[1,"heading-panel"],[1,"text-danger"],[1,"card-body"],["id","webTab",1,"nav","nav-tabs"],[1,"nav-item"],["id","add-tab","data-bs-toggle","tab","data-bs-target","#add","type","button","role","tab","aria-controls","add","aria-selected","true",1,"nav-link","active"],["id","view-tab","data-bs-toggle","tab","data-bs-target","#view","type","button","role","tab","aria-controls","view","aria-selected","false",1,"nav-link",3,"click"],[1,"tab-content"],["id","add","role","tabpanel","aria-labelledby","add-tab",1,"tab-pane","fade","show","active"],[3,"formGroup","ngSubmit"],[1,"app-heading","mb-4"],[1,"row","g-4","mb-5"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-6","col-xs-12"],["Class","form-label"],["type","text","pattern","","id","txtFullName","formControlName","txtFullName","minlength","","maxlength","50","placeholder","","OnlyCharacter","","trim","","autocomplete","off",1,"form-control"],["type","tel","pattern","","id","txtContactNumber","formControlName","txtContactNumber","minlength","","maxlength","10","placeholder","","phoneNumber","","trim","","autocomplete","off",1,"form-control"],["type","email","pattern","","id","txtEmailAddress","formControlName","txtEmailAddress","minlength","","maxlength","100","placeholder","","emaildirective","","trim","","autocomplete","off",1,"form-control"],["minlength","","maxlength","150","pattern","- / ","id","txtrAddress","formControlName","txtrAddress","placeholder","","alphaNumeric","","trim","","BlockSpcFirst","","trim","",1,"form-control"],["formControlName","selCounty","id","selCounty",1,"form-select",3,"change"],["selCounty",""],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","selSubCounty","id","selSubCounty",1,"form-select"],["selSubCounty",""],[1,"row","g-4","mb-4"],[1,"col-12"],["Class","form-label d-block"],[1,"form-check","form-check-inline"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst101",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst101",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst102",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst102",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst103",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst103",1,"form-check-label"],["formControlName","rdoComplaintAgainst","name","rdoComplaintAgainst","type","radio","id","rdoComplaintAgainst104",1,"form-check-input",3,"value"],["for","rdoComplaintAgainst104",1,"form-check-label"],["class","col-xl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12",4,"ngIf"],[1,"form-group","mb-4"],[1,"form-label","d-block"],["type","radio","formControlName","documentRequired","value","required","id","required",1,"form-check-input"],["for","required",1,"form-check-label"],["type","radio","formControlName","documentRequired","value","notRequired","id","notRequired",1,"form-check-input"],["for","notRequired",1,"form-check-label"],[4,"ngIf"],[1,"form-check","form-check-inline","mb-4"],["formControlName","chkdeclartion","value","chkdeclartion.value","type","checkbox","id","chkdeclartion",1,"form-check-input"],["for","chkdeclartion",1,"form-check-label"],[1,"d-grid","gap-2","d-sm-flex"],["type","submit",1,"btn","btn-success"],["type","reset",1,"btn","btn-danger",3,"click"],["id","view","role","tabpanel","aria-labelledby","view-tab",1,"tab-pane","fade"],[1,"search-section"],[3,"formGroup"],[1,"row"],[1,"col-12","col-md-3","col-lg-3"],["type","text","placeholder","Enter Complaint No.","formControlName","txtFullName",1,"form-control"],[1,"form-group"],["type","text","placeholder","Enter Contact Number","formControlName","txtContactNumber",1,"form-control"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-orange",3,"click"],[4,"ngIf","ngIfElse"],["norecord",""],["id","view-history-Modal","tabindex","-1","aria-labelledby","view-historyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","pledging-dischargeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"timeline"],[1,"timeline-container"],["class","timeline-continue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[3,"value"],["formControlName","selCountyofWarehouse","id","selCountyofWarehouse",1,"form-select",3,"change"],["selCountyofWarehouse",""],["formControlName","selSubCountyofWarehouse","id","selSubCountyofWarehouse",1,"form-select",3,"change"],["selSubCountyofWarehouse",""],["formControlName","selWarehouseShopName","id","selWarehouseShopName",1,"form-select",3,"click"],["selWarehouseShopName",""],["type","text","readonly","","pattern","","id","txtWarehouseOperator","formControlName","txtWarehouseOperator","minlength","","maxlength","50","placeholder","","OnlyCharacter","","trim","","autocomplete","off",1,"form-control"],["formControlName","selNameofGrader","id","selNameofGrader",1,"form-select"],["selNameofGrader",""],["formControlName","selNameofCollateralManager","id","selNameofCollateralManager",1,"form-select"],["selNameofCollateralManager",""],["formControlName","selNameofInspector","id","selNameofInspector",1,"form-select"],["selNameofInspector",""],["formControlName","selTypeofComplain","id","selTypeofComplain",1,"form-select"],["selTypeofComplain",""],["type","date","pattern","","id","txtDateofIncident","formControlName","txtDateofIncident","minlength","","maxlength","","placeholder","","BlockSpcFirst","","trim","","autocomplete","off",1,"form-control"],["minlength","","maxlength","200","pattern","- / @ #","id","txtrDescriptionofIncident","formControlName","txtrDescriptionofIncident","placeholder","","alphaNumeric","","trim","","BlockSpcFirst","","trim","",1,"form-control"],["Class","app-heading mb-4"],[1,"row","mb-5"],[1,"col-md-9","col-xs-12"],["formArrayName","addMoreSupportingDocuments"],[4,"ngFor","ngForOf"],[1,"col-md-3","col-xs-12"],["type","button",1,"btn","btn-success","btn-add",3,"click"],[1,"row","g-4",3,"formGroupName"],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-6","col-xs-12"],["type","text","pattern","","id","amtxtDocumentName","formControlName","amtxtDocumentName","minlength","","maxlength","50","placeholder","","BlockSpcFirst","","trim","","autocomplete","off",1,"form-control"],["type","file","id","amfileUploadDocuments","accept","",1,"form-control",3,"change"],["class","col-xl-2 col-lg-2 col-md-2 col-sm-6 col-xs-12",4,"ngIf"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-6","col-xs-12"],[1,"btn","btn-danger","btn-minus",3,"click"],[1,"bi","bi-dash"],[1,"table-responsive"],["data-toggle","table",1,"table"],["scope","col","width","40px"],["scope","col"],["scope","col","width","100px",1,"noPrint"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],["href","javascript:void(0)","data-bs-toggle","modal",1,"text-primary",3,"click"],["tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],[1,"modal-dialog","modal-lg"],["id","previewModalLabel",1,"modal-title","mb-0"],["class","row g-4 mb-5",4,"ngFor","ngForOf"],[1,"table"],["class","btn btn-outline-dark btn-sm","title","View Action History","data-bs-toggle","modal","data-bs-target","#view-history-Modal",3,"click",4,"ngIf"],[1,"appl-details"],[1,"title"],[1,"name"],[3,"href"],["src","../../../assets/img/pdf.png","alt",""],["title","View Action History","data-bs-toggle","modal","data-bs-target","#view-history-Modal",1,"btn","btn-outline-dark","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"no-content","border"],[1,"timeline-continue"],[1,"row",3,"ngClass"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[1,"timeline-date"],[1,"timeline-box"],[1,"timeline-text"],[1,"badge","text-bg-success"]],template:function(o,n){if(1&o&&(t.TgZ(0,"header")(1,"nav",0)(2,"div",1)(3,"div",2)(4,"a",3),t._UZ(5,"img",4),t.TgZ(6,"span",5)(7,"span"),t._uU(8,"WAREHOUSE RECEIPT SYSTEM COUNCIL"),t.qZA(),t.TgZ(9,"small",6),t._uU(10,"Ministry of Investments, Trade and Industry"),t.qZA()()()(),t.TgZ(11,"ul",7)(12,"li")(13,"div",8),t._UZ(14,"img",9),t.TgZ(15,"select")(16,"option",10),t._uU(17,"EN"),t.qZA()()()(),t.TgZ(18,"li")(19,"a",11),t._uU(20,"Back to Login"),t.qZA()()()()()(),t.TgZ(21,"div",12)(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",16)(26,"h4"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"small",17),t._uU(30,"( * ) Indicates mandatory fields"),t.qZA()()(),t.TgZ(31,"div",18)(32,"ul",19)(33,"li",20)(34,"button",21),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"li",20)(38,"button",22),t.NdJ("click",function(){return n.onClickView()}),t._uU(39),t.ALo(40,"translate"),t.qZA()()(),t.TgZ(41,"div",23)(42,"div",24)(43,"form",25),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(44,"h5",26),t._uU(45,"Complainants Information"),t.qZA(),t.TgZ(46,"div",27)(47,"div",28)(48,"label",29),t._uU(49),t.ALo(50,"translate"),t.TgZ(51,"span",17),t._uU(52,"*"),t.qZA()(),t._UZ(53,"input",30),t.qZA(),t.TgZ(54,"div",28)(55,"label",29),t._uU(56),t.ALo(57,"translate"),t.TgZ(58,"span",17),t._uU(59,"*"),t.qZA()(),t._UZ(60,"input",31),t.qZA(),t.TgZ(61,"div",28)(62,"label",29),t._uU(63),t.ALo(64,"translate"),t.TgZ(65,"span",17),t._uU(66,"*"),t.qZA()(),t._UZ(67,"input",32),t.qZA(),t.TgZ(68,"div",28)(69,"label",29),t._uU(70),t.ALo(71,"translate"),t.TgZ(72,"span",17),t._uU(73,"*"),t.qZA()(),t._UZ(74,"textarea",33),t.qZA(),t.TgZ(75,"div",28)(76,"label",29),t._uU(77),t.ALo(78,"translate"),t.TgZ(79,"span",17),t._uU(80,"*"),t.qZA()(),t.TgZ(81,"select",34,35),t.NdJ("change",function(r){return n.getSubCountyList(r)}),t.TgZ(83,"option",36),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.YNc(86,ct,2,2,"option",37),t.qZA()(),t.TgZ(87,"div",28)(88,"label",29),t._uU(89),t.ALo(90,"translate"),t.TgZ(91,"span",17),t._uU(92,"*"),t.qZA()(),t.TgZ(93,"select",38,39)(95,"option",36),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.YNc(98,mt,2,2,"option",37),t.qZA()()(),t.TgZ(99,"h5",26),t._uU(100,"Complaint Information"),t.qZA(),t.TgZ(101,"div",40)(102,"div",41)(103,"label",42),t._uU(104),t.ALo(105,"translate"),t.TgZ(106,"span",17),t._uU(107,"*"),t.qZA()(),t.TgZ(108,"div",43),t._UZ(109,"input",44),t.TgZ(110,"label",45),t._uU(111,"Warehouse Operator"),t.qZA()(),t.TgZ(112,"div",43),t._UZ(113,"input",46),t.TgZ(114,"label",47),t._uU(115,"Inspector"),t.qZA()(),t.TgZ(116,"div",43),t._UZ(117,"input",48),t.TgZ(118,"label",49),t._uU(119,"Collateral Manager"),t.qZA()(),t.TgZ(120,"div",43),t._UZ(121,"input",50),t.TgZ(122,"label",51),t._uU(123,"Grader"),t.qZA()()(),t.YNc(124,dt,11,4,"div",52),t.YNc(125,gt,11,4,"div",52),t.YNc(126,_t,11,4,"div",52),t.YNc(127,ft,7,3,"div",52),t.YNc(128,bt,11,4,"div",52),t.YNc(129,Pt,11,4,"div",52),t.YNc(130,yt,11,4,"div",52),t.YNc(131,At,12,7,"div",52),t.YNc(132,Tt,7,3,"div",52),t.YNc(133,Zt,7,3,"div",52),t.qZA(),t.TgZ(134,"div",53)(135,"label",54),t._uU(136,"Do you want to attach documents ? "),t.TgZ(137,"span",17),t._uU(138,"*"),t.qZA()(),t.TgZ(139,"div",43),t._UZ(140,"input",55),t.TgZ(141,"label",56),t._uU(142),t.ALo(143,"translate"),t.qZA()(),t.TgZ(144,"div",43),t._UZ(145,"input",57),t.TgZ(146,"label",58),t._uU(147),t.ALo(148,"translate"),t.qZA()()(),t.YNc(149,Nt,12,7,"div",59),t.TgZ(150,"div",60),t._UZ(151,"input",61),t.TgZ(152,"label",62),t._uU(153,"I hereby declare that the information provided is true and accurate to the best of my knowledge and belief."),t.qZA()(),t.TgZ(154,"div",63)(155,"button",64),t._uU(156),t.ALo(157,"translate"),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"button",65),t.NdJ("click",function(){return n.itemID>0?n.onCancel():n.onReset()}),t._uU(160),t.ALo(161,"translate"),t.ALo(162,"translate"),t.qZA()()()(),t.TgZ(163,"div",66)(164,"div",23)(165,"div",67)(166,"form",68)(167,"div",69)(168,"div",70),t._UZ(169,"input",71),t.qZA(),t.TgZ(170,"div",70)(171,"div",72),t._UZ(172,"input",73),t.qZA()(),t.TgZ(173,"div",70)(174,"div",63)(175,"button",74),t.NdJ("click",function(){return n.viewSearchList()}),t._uU(176," Show"),t.qZA(),t._uU(177,"\xa0 "),t.TgZ(178,"button",75),t.NdJ("click",function(){return n.onResetSearch()}),t._uU(179," Reset"),t.qZA()()()()()(),t.YNc(180,Ht,31,29,"div",76),t.YNc(181,Kt,2,0,"ng-template",null,77,t.W1O),t.qZA()()()()()()(),t.TgZ(183,"div",78)(184,"div",79)(185,"div",80)(186,"div",81)(187,"h5",82),t._uU(188,"View History"),t.qZA(),t._UZ(189,"button",83),t.qZA(),t.TgZ(190,"div",84)(191,"div",85)(192,"div",86),t.YNc(193,te,7,4,"div",87),t.qZA()()(),t.TgZ(194,"div",88)(195,"button",89),t._uU(196,"Close"),t.qZA()()()()()),2&o){const a=t.MAs(182);let r;t.xp6(27),t.Oqu(t.lcZ(28,38,n.title)),t.xp6(8),t.hij(" ",t.lcZ(36,40,"Add")," "),t.xp6(4),t.hij(" ",t.lcZ(40,42,"View")," "),t.xp6(4),t.Q6J("formGroup",n.complaint_management),t.xp6(6),t.hij("",t.lcZ(50,44,"Full Name")," "),t.xp6(7),t.hij("",t.lcZ(57,46,"Contact Number")," "),t.xp6(7),t.hij("",t.lcZ(64,48,"Email Address")," "),t.xp6(7),t.hij("",t.lcZ(71,50,"Address")," "),t.xp6(7),t.hij("",t.lcZ(78,52,"County")," "),t.xp6(7),t.Oqu(t.lcZ(85,54,"--Select--")),t.xp6(2),t.Q6J("ngForOf",n.countyList),t.xp6(3),t.hij("",t.lcZ(90,56,"Sub County")," "),t.xp6(7),t.Oqu(t.lcZ(97,58,"--Select--")),t.xp6(2),t.Q6J("ngForOf",n.subCountyList),t.xp6(6),t.hij("",t.lcZ(105,60,"Complaint Against")," "),t.xp6(5),t.Q6J("value",101),t.xp6(4),t.Q6J("value",102),t.xp6(4),t.Q6J("value",103),t.xp6(4),t.Q6J("value",104),t.xp6(3),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","103"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","102"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(1),t.Q6J("ngIf","101"==n.complaint_management.value.rdoComplaintAgainst||"102"==n.complaint_management.value.rdoComplaintAgainst||"103"==n.complaint_management.value.rdoComplaintAgainst||"104"==n.complaint_management.value.rdoComplaintAgainst),t.xp6(9),t.Oqu(t.lcZ(143,62,"Yes")),t.xp6(5),t.Oqu(t.lcZ(148,64,"No")),t.xp6(2),t.Q6J("ngIf","required"===(null==(r=n.complaint_management.get("documentRequired"))?null:r.value)),t.xp6(7),t.hij(" ",n.itemID>0?t.lcZ(157,66,"Update"):t.lcZ(158,68,"Submit"),""),t.xp6(4),t.hij("",n.itemID>0?t.lcZ(161,70,"Cancel"):t.lcZ(162,72,"Reset")," "),t.xp6(6),t.Q6J("formGroup",n.complaint_management_search),t.xp6(14),t.Q6J("ngIf",null!=n.complaint_managementlist&&n.complaint_managementlist.length>0)("ngIfElse",a),t.xp6(13),t.Q6J("ngForOf",n.notingList)}},dependencies:[w.LS,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.JL,l.wO,l.nD,l.c5,l.sg,l.u,l.x0,l.CE,f.mk,f.sg,f.O5,C.rH,nt.Q,ot.l,it.j,at.q,rt.$,lt.S,w._s,y.X$,f.uU,st.A],styles:['.btn-minus[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{margin-top:1.8rem}.websection[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:95vh}.websection__content[_ngcontent-%COMP%]{flex:1 1 auto;border-radius:.375rem;padding:0;margin-bottom:1rem;box-shadow:0 5px 12px #0000000f;background-color:#fff}@media screen and (min-width: 480px){.websection__content[_ngcontent-%COMP%]{margin-top:57px}}@media screen and (min-width: 530px){.websection__content[_ngcontent-%COMP%]{margin-top:74px}}@media screen and (min-width: 576px){.websection__content[_ngcontent-%COMP%]{margin-top:91px}}.search-section[_ngcontent-%COMP%]{background-color:#da90000d;padding:1rem;margin:1rem 0rem 2rem;border:1px dashed #ddd;border-radius:.5rem}.back-login[_ngcontent-%COMP%]:hover{color:var(--wrms-orange-800)!important}header[_ngcontent-%COMP%]{background:var(--wrms-dark-grey)}@media screen and (min-width: 480px){header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:999;box-shadow:1px 3px 10px #00000075}}@media screen and (max-width: 425px){header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{justify-content:center}}@media screen and (max-width: 425px){.navbar__logo[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.18);padding-bottom:.5rem;margin-bottom:.5rem}}.navbar__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px}@media screen and (max-width: 480px){.navbar__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{color:var(--white);margin-left:1rem}.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px}@media screen and (max-width: 768px){.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px}}@media screen and (max-width: 530px){.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 480px){.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px}@media screen and (max-width: 768px){.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px}}@media screen and (max-width: 480px){.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:10px}}.language-dropdown[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 480px){.language-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}}.language-dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:2rem;background-color:var(--wrms-dark-grey);color:var(--white);border:none}@media screen and (max-width: 576px){.language-dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-right:1rem}}.language-dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.language-dropdown[_ngcontent-%COMP%]:after{content:"";position:absolute;height:50px;width:1px;background-color:#ddd;margin-left:-7px;top:-10px;opacity:40%}@media screen and (max-width: 480px){.language-dropdown[_ngcontent-%COMP%]:after{height:25px;top:0}}.setting-dropdown[_ngcontent-%COMP%]{margin-left:1rem}@media screen and (max-width: 576px){.setting-dropdown[_ngcontent-%COMP%]{margin-left:.5rem}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 768px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{display:unset}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{margin-right:.5rem;border:1px solid rgba(197,189,189,.37);border-radius:50%}@media screen and (max-width: 768px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{margin-right:0}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:42px}@media screen and (max-width: 530px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"\\f282";font-family:bootstrap-icons!important;border:0;vertical-align:baseline;color:var(--white);bottom:0;position:absolute;right:0}@media screen and (max-width: 768px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{color:var(--white);margin-right:1.5rem}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--base-grey)}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{padding:0 .8rem;position:absolute}@media screen and (max-width: 768px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{left:auto;right:0;width:200px}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px dotted #ddd;padding-bottom:.7rem;padding-top:.7rem}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){border:none}@media screen and (max-width: 768px){.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){border-bottom:1px solid #ddd}}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){border:none}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--black)}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a8a2a2}.setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .setting-dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--wrms-green-900)}.stepper[_ngcontent-%COMP%]{width:100%;margin:2rem 0rem 3rem}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;position:relative;text-align:center;display:table-cell}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f633";font-family:bootstrap-icons!important;width:25px;height:25px;line-height:25px;border:1px solid #ddd;border-radius:100%;display:block;text-align:center;margin:0 auto 10px;background-color:#d7d7d7;color:#6e6e6e;z-index:1;position:relative}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;top:13px;left:-50%;border-bottom:2px dotted rgba(0,19,0,.07)}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#22a851}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{background:#22a851;color:#fff;border:#22a851}@media (max-width: 1440px){.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 .8rem}}@media (max-width: 991px){.stepper[_ngcontent-%COMP%]{overflow:auto}.stepper_item[_ngcontent-%COMP%]{table-layout:auto}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:120px}}.timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:30px 0}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;width:100%}.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:100%;top:0;left:50%;margin-left:-1px;background:#dddddd}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{left:0%}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:left}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{font-size:14px;margin:41px 0 0;font-weight:600;position:relative}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{margin:0 0 0 16px}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:14px;height:14px;top:0;background:linear-gradient(#dddddd,#4d4e4f);box-shadow:0 0 5px #0006;border-radius:15px;z-index:1}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:101%}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-23px}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-4%}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:15px;padding:20px;border:1px solid #dddddd;border-radius:6px;background:#ffffff;width:95%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{width:100%;margin:15px 0;padding:0;border:none;text-align:center;background:transparent}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{display:none}}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:100%}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{right:100%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:50%;margin-left:-10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:26px;border-color:transparent transparent transparent #ffffff;border-width:10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:25px;border-color:transparent transparent transparent #dddddd;border-width:11px}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{border-color:transparent #ffffff transparent transparent}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{border-color:transparent #dddddd transparent transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:-20px;border-color:transparent transparent #dddddd transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:-19px;border-color:transparent transparent #ffffff transparent;border-width:10px;z-index:1}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{position:relative;width:calc(100% - 40px);float:left}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{width:100%}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:1rem}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400}@media (max-width: 992px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-5%}}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-24px}}@media (max-width: 768px){.timeline-left[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(4)   .timeline-box[_ngcontent-%COMP%]{margin-bottom:0}}']})}return i})();var ne=h(96277),oe=h(6593),ie=h(78023);function ae(i,m){if(1&i&&(t.TgZ(0,"span",39),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.enmStatus)}}function re(i,m){if(1&i&&(t.TgZ(0,"span",40),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.enmStatus)}}function le(i,m){if(1&i&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.enmStatus)}}function se(i,m){if(1&i&&(t.TgZ(0,"span",42),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.enmStatus)}}function ce(i,m){if(1&i&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.enmStatus)}}function me(i,m){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",44)(2,"a",45),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.checkActionHistory(n.applicationId))}),t._UZ(3,"i",46),t.qZA(),t.TgZ(4,"a",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.downloadCert(n.applicationId))}),t._UZ(5,"i",48),t.qZA()(),t.BQk()}}function pe(i,m){1&i&&(t.ynx(0),t._uU(1," -- "),t.BQk())}function de(i,m){if(1&i&&t.YNc(0,pe,2,0,"ng-container",36),2&i){const e=t.oxw().$implicit,o=t.MAs(32);t.Q6J("ngIf","Rejected"===e.enmStatus)("ngIfElse",o)}}function ue(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editAocData(n.applicationId))}),t._UZ(1,"i",50),t.qZA()}}function ge(i,m){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"commodityPipe"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td",30),t.YNc(22,ae,2,1,"span",31),t.YNc(23,re,2,1,"span",32),t.YNc(24,le,2,1,"span",33),t.YNc(25,se,2,1,"span",34),t.YNc(26,ce,2,1,"span",35),t.qZA(),t.TgZ(27,"td"),t.YNc(28,me,6,0,"ng-container",36),t.YNc(29,de,1,2,"ng-template",null,37,t.W1O),t.YNc(31,ue,2,0,"ng-template",null,38,t.W1O),t.qZA()()),2&i){const e=m.$implicit,o=m.index,n=t.MAs(30);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij(" ",e.applicationId," "),t.xp6(2),t.Oqu(t.lcZ(7,16,e.dtDateOfApplication)),t.xp6(3),t.Oqu(e.particularOfApplicantsId.lrNumber),t.xp6(2),t.Oqu(t.lcZ(12,18,e.particularOfApplicantsId.typeOfCommodities)),t.xp6(3),t.Oqu(e.particularOfApplicantsId.shop),t.xp6(2),t.Oqu(e.particularOfApplicantsId.building),t.xp6(2),t.Oqu(e.particularOfApplicantsId.countyId.name),t.xp6(2),t.Oqu(e.particularOfApplicantsId.subCountyId.txtSubCountyName),t.xp6(1),t.Q6J("ngSwitch",e.enmStatus),t.xp6(1),t.Q6J("ngSwitchCase","Accepted"),t.xp6(1),t.Q6J("ngSwitchCase","Rejected"),t.xp6(1),t.Q6J("ngSwitchCase","Pending"),t.xp6(1),t.Q6J("ngSwitchCase","Deferred"),t.xp6(3),t.Q6J("ngIf","Accepted"===e.enmStatus)("ngIfElse",n)}}function he(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",13)(1,"a",51),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.onPageChange(a-1))}),t._uU(2),t.qZA()()}if(2&i){const e=m.$implicit,o=t.oxw();t.ekj("active",e-1===o.page),t.xp6(2),t.Oqu(o.page+1)}}function _e(i,m){if(1&i&&(t.TgZ(0,"div",55)(1,"div",57)(2,"div",58)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",59),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.remark),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dateOfRemark,"dd-MMM-yyyy"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function fe(i,m){if(1&i&&(t.TgZ(0,"div",55)(1,"div",57)(2,"div",58)(3,"h3")(4,"strong"),t._uU(5,"Remark"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"strong"),t._uU(9,"Action Taken on : "),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",59),t._uU(14),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.remark),t.xp6(4),t.hij(" ",t.xi3(12,3,e.dateOfRemark,"dd-MMM-yyyy"),""),t.xp6(3),t.Oqu(e.applicationStatus)}}function Ce(i,m){if(1&i&&(t.TgZ(0,"div",52)(1,"div",53),t.YNc(2,_e,15,6,"div",54),t.TgZ(3,"div",55)(4,"p",56),t._uU(5),t.qZA()(),t.YNc(6,fe,15,6,"div",54),t.qZA()()),2&i){const e=m.$implicit,o=m.index;t.xp6(1),t.Q6J("ngClass",o%2==0?"timeline-left":"timeline-right"),t.xp6(1),t.Q6J("ngIf",o%2==0),t.xp6(3),t.hij(" ",e.userName," "),t.xp6(1),t.Q6J("ngIf",o%2!=0)}}const be=[{path:"",component:F},{path:"",component:F,children:[{path:"formlist",component:B},{path:"webquery-reply/:id",component:j}]},{path:"registration",component:G},{path:"complaint-form",component:ee},{path:"complaint-tracker",component:(()=>{class i{constructor(e,o,n,a,r,p,s,u){this.conformityService=e,this.fb=o,this.apiService=n,this.translate=a,this.route=r,this.fileService=p,this.sanitizer=s,this.encDec=u,this.commodityData=[],this.dropdownSettings={},this.page=0,this.size=10,this.totalPages=0,this.pages=[],this.isEditMode=!1,this.currentStep=1,this.totalSteps=5,(new Date).toISOString().split("T"),this.dropdownSettings={idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.aocParticularForm=this.fb.group({userId:[""],intParticularOfApplicantsId:[""],applicantFullName:["",[l.kI.required,l.kI.pattern("^[A-Za-z ]*$")]],postalAddress:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],postalCode:["",[l.kI.required,l.kI.pattern("^[0-9]{5}$")]],town:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],mobilePhoneNumber:["",[l.kI.required,l.kI.pattern("^(?:\\+254|0)?7[0-9]{8}$")]],email:["",[l.kI.required,l.kI.email]],companyRegistrationNumber:["",[l.kI.required,l.kI.pattern("^[A-Za-z0-9 ]*$")]],kraPin:["",[l.kI.required,l.kI.pattern("^[A-Za-z0-9]*$")]],shop:["",[l.kI.required,l.kI.pattern("^[A-Za-z ]*$")]],lrNumber:["",[l.kI.required,l.kI.pattern("^[A-Za-z]+$|^[0-9]+$|^[A-Za-z0-9]+$")]],countyId:[0,l.kI.required],subCountyId:[0,l.kI.required],ward:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],streetName:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],building:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],typeOfCommodities:[[],l.kI.required],storageCapacity:["",[l.kI.required,l.kI.pattern("^[0-9]*$")]],authorizedSignName:["",[l.kI.required,l.kI.pattern("^[A-Za-z ]*$")]],authorizedSignTitle:["",[l.kI.required,l.kI.pattern("^[A-Za-z ]*$")]],uploadSignPath:["",l.kI.required],signFetchFromDb:[!1],uploadCompanySealPath:["",l.kI.required],sealFetchFromDb:[!1],unit:[0,l.kI.required],draftStatus:[!0],directors:this.fb.array([])}),this.directorForm=this.fb.group({directorDetailId:[""],directorName:["",[l.kI.required,l.kI.pattern("^[A-Za-z ]*$")]],nationalityId:[0,l.kI.required],passportNumber:["",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9 /-]*$/)]],uploadWorkPermitPath:["",l.kI.required],fetchFromDb:[!1]}),this.supportingDocumentsForm=this.fb.group({userId:[""],supportDocId:[null],intParticularOfApplicantsId:[""],businessPlanPath:["",l.kI.required],businessPlanPathFetchFromDb:[!1],taxComplianceCertificatePath:["",l.kI.required],taxComplianceCertificatePathFetchFromDb:[!1],goodConductCertificatePath:["",l.kI.required],goodConductCertificatePathFetchFromDb:[!1],identificationProofPath:["",l.kI.required],identificationProofPathFetchFromDb:[!1],insurancePolicyPath:["",l.kI.required],insurancePolicyPathFetchFromDb:[!1],licenseForTheWarehousePath:["",l.kI.required],licenseForTheWarehousePathFetchFromDb:[!1],certificateOfRegistrationPath:["",l.kI.required],certificateOfRegistrationPathFetchFromDb:[!1],draftStatus:[!0]}),this.viabilityForm=this.fb.group({userId:[""],viabilityId:[null],intParticularOfApplicantsId:[""],companyRegistrationCertificatePath:["",l.kI.required],companyRegistrationCertificatePathFetchFromDb:[!1],businessPermitPath:["",l.kI.required],businessPermitPathFetchFromDb:[!1],businessStrategicPlanPath:["",l.kI.required],businessStrategicPlanPathFetchFromDb:[!1],leaseAgreementPath:["",l.kI.required],leaseAgreementPathFetchFromDb:[!1],titleDeedPath:["",l.kI.required],titleDeedPathFetchFromDb:[!1],assetRegister:["",l.kI.required],assetRegisterFetchFromDb:[!1],recommendationLettersPath:["",l.kI.required],recommendationLettersPathFetchFromDb:[!1],certificationPath:["",l.kI.required],certificationPathFetchFromDb:[!1],businessOpportunity:["",l.kI.required],businessOpportunityFetchFromDb:[!1],customerBasePath:["",l.kI.required],customerBasePathFetchFromDb:[!1],productionOfTargetAreasPath:["",l.kI.required],productionOfTargetAreasPathFetchFromDb:[!1],supplyVolumesPath:["",l.kI.required],supplyVolumesPathFetchFromDb:[!1],financialProjectionsPath:["",l.kI.required],financialProjectionsPathFetchFromDb:[!1],auditedFinancialReportPath:["",l.kI.required],auditedFinancialReportPathFetchFromDb:[!1],fireInsurancePolicyPath:["",l.kI.required],fireInsurancePolicyPathFetchFromDb:[!1],theftInsurancePolicyPath:["",l.kI.required],theftInsurancePolicyPathFetchFromDb:[!1],naturalCalamityInsurancePolicyPath:["",l.kI.required],naturalCalamityInsurancePolicyPathFetchFromDb:[!1],performanceBondPath:["",l.kI.required],performanceBondPathFetchFromDb:[!1],businessContinuityPath:["",l.kI.required],businessContinuityPathFetchFromDb:[!1],draftStatus:[!0]}),this.paymentForm=this.fb.group({userId:[""],paymentType:["",l.kI.required],intParticularOfApplicantsId:[""],declaration:[!1,l.kI.required]})}ngOnInit(){this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION"),JSON.parse(this.sessiontoken),this.userId=5,this.checkIfCompanyExist(this.userId),this.getEntityTypeList(),this.getNationalityList(),this.getCountyList(),this.getCompanyDetails(this.userId),this.checkDraftStatusFirstPage(this.userId),this.getUnitsData(),this.getTypeOfCommodities(),this.showAocList()}checkIfCompanyExist(e){this.apiService.getData(`${g.N.getCheckCompanyExistsUrl}/${e}`,e).subscribe({next:o=>{200===o.status&&0==o.result&&c().fire({icon:"warning",title:"Action Not Allowed",text:"Please Add Company Profile Before Applying Certificate of Conformity",confirmButtonText:"Okay",allowOutsideClick:!1}).then(n=>{n.isConfirmed&&this.goBack()})},error:o=>{console.error(o)}})}getTypeOfCommodities(){this.apiService.getData(g.N.getAllCommodities).subscribe({next:e=>{this.commodityData=e.result,console.log(this.commodityData)}})}onItemSelect(e){console.log(e)}onSelectAll(e){}getUnitsData(){this.apiService.getData(g.N.getUnitsDataUrl).subscribe({next:e=>{this.unitsData=e.result,console.log(this.unitsData)},error:e=>{console.error("Error:",e)}})}getCompanyDetails(e){this.apiService.getData(`${g.N.getCompanyDetailsByUserIdUrl}/${e}`,e).subscribe({next:o=>{this.companyDetailsData=o.result[0],console.log(this.companyDetailsData),this.patchCompanyDetailsIntoAocForm(this.companyDetailsData),this.conformityService.getImage(this.companyDetailsData.signSeal.signPath).subscribe(n=>{const a=URL.createObjectURL(n);this.signPathUrl=this.sanitizer.bypassSecurityTrustUrl(a)},n=>{console.error("Error fetching image:",n)}),this.conformityService.getImage(this.companyDetailsData.signSeal.sealPath).subscribe(n=>{const a=URL.createObjectURL(n);this.sealPathUrl=this.sanitizer.bypassSecurityTrustUrl(a)},n=>{console.error("Error fetching image:",n)})},error:o=>{console.error(o)}})}patchCompanyDetailsIntoAocForm(e){this.aocParticularForm.patchValue({applicantFullName:e.companyProfile.applicantName,postalAddress:e.companyProfile.postalAddress,postalCode:e.companyProfile.postalCode,town:e.companyProfile.town,mobilePhoneNumber:e.companyProfile.mobileNumber,email:e.companyProfile.email,companyRegistrationNumber:e.companyProfile.company,kraPin:e.companyProfile.kraPin,authorizedSignName:e.signSeal.signName,authorizedSignTitle:e.signSeal.signTitle,uploadSignPath:e.signSeal.signPath,signFetchFromDb:!0,uploadCompanySealPath:e.signSeal.sealPath,sealFetchFromDb:!0});const o=this.aocParticularForm.get("directors");o.clear(),e.directors.forEach(n=>{o.push(this.fb.group({directorDetailId:n.id,directorName:n.directorName,nationalityId:n.nationalityId,passportNumber:n.passportNo,uploadWorkPermitPath:n.workPermitPath,fetchFromDb:!0}))}),console.log(this.aocParticularForm.value)}checkDraftStatusFirstPage(e){this.apiService.getData(`${g.N.getAocDraftStatusFirstPageUrl}/${e}`,e).subscribe({next:o=>{null==o.result?console.log("there is no data to show please fillup the form"):this.apiService.getData(`${g.N.getAocDataFirstPageUrl}/${o.result}`,o.result).subscribe({next:n=>{200===n.status&&(console.log(n),this.patchAocParticularForm(n.result),this.intPoaId=n.result.id)},error:n=>{console.log(n)}})},error:o=>{console.log(o)}})}patchAocParticularForm(e){const o=e.typeOfCommodities;console.log(o);const n=o.replace(/\\"/g,'"'),a=JSON.parse(n);this.aocParticularForm.patchValue({intParticularOfApplicantsId:e.id,applicantFullName:e.applicantFullName,postalAddress:e.postalAddress,postalCode:e.postalCode,town:e.town,mobilePhoneNumber:e.mobilePhoneNumber,email:e.email,website:e.website,companyRegistrationNumber:e.companyRegistrationNumber,kraPin:e.kraPin,lrNumber:e.lrNumber,countyId:e.countyId.id,subCountyId:e.subCountyId.intId,ward:e.ward,streetName:e.streetName,building:e.building,typeOfCommodities:a,storageCapacity:e.storageCapacity,authorizedSignName:e.authorizedSignName,authorizedSignTitle:e.authorizedSignTitle,uploadSignPath:e.uploadSignPath,signFetchFromDb:!0,uploadCompanySealPath:e.uploadCompanySealPath,sealFetchFromDb:!0,shop:e.shop,unit:e.unitId.unitId}),this.apiService.getData(g.N.subCountyGetByCountyURL+"/"+e.countyId.id).subscribe({next:p=>{console.log(p),this.subCountyList=p.result},error:p=>{console.log(p)}});const r=this.aocParticularForm.get("directors");r.clear(),e.directors.forEach(p=>{r.push(this.fb.group({directorDetailId:p.id,directorName:p.directorName,nationalityId:p.nationality.intNationalityId,passportNumber:p.passportNumber,uploadWorkPermitPath:p.uploadWorkPermitPath,fetchFromDb:!0}))})}get directors(){return this.aocParticularForm.get("directors")}addDirector(){if(this.directorForm.valid){this.directors.push(this.fb.group(this.directorForm.value)),this.directorForm.reset();const e=document.querySelector("#uploadWorkPermitPath");e&&(e.value="")}}removeDirector(e,o,n){1==n&&this.apiService.deleteData(`${g.N.deleteDirectorByIdUrl}/${o}`).subscribe({next:a=>{console.log(a.result)},error:a=>{console.log(a)}}),this.directors.removeAt(e)}getFileName(e){const o=e.split("/"),n=o[o.length-1];return n.length>15?n.substring(0,12)+"...":n}getCountyList(){this.conformityService.getCountyList().subscribe({next:e=>{const o=atob(e.RESPONSE_DATA),n=JSON.parse(o);this.countyList=n.result},error:e=>{console.log(e)}})}getSubCountyList(e){const o=parseInt(e.target.value,10);this.apiService.getData(g.N.subCountyGetByCountyURL+"/"+o).subscribe({next:n=>{console.log(n),this.subCountyList=n.result},error:n=>{console.log(n)}})}getNationalityList(){this.conformityService.getNationalityList().subscribe({next:e=>{console.log(e),this.nationalityList=e},error:e=>{console.log(e)}})}getNationalityName(e){const o=this.nationalityList.find(n=>n.intNationalityId==e);return o?o.vchNationalityName:""}getEntityTypeList(){this.conformityService.getAllEntityList().subscribe({next:e=>{console.log(e),this.entityList=e},error:e=>{console.log(e)}})}onFileChangePermit(e){const o=e.target.files[0],p=document.querySelector("#uploadWorkPermitPath");if(console.log(o.name),!o)return console.error("No file selected."),void c().fire("No file selected.");if(!["application/pdf"].includes(o.type))return console.error("Invalid file type. Only PDFs are allowed."),c().fire("Invalid file type. Only PDFs are allowed."),void(p&&(p.value=""));if(o.size>5242880)return console.error("File size exceeds the limit."),c().fire("File size exceeds the limit."),void(p&&(p.value=""));{const s=new FileReader;s.onload=()=>{const u=s.result.split(",")[1],_=this.directorForm.get("uploadWorkPermitPath");_?(console.log("Updating form control: uploadWorkPermitPath"),_.patchValue(u)):console.error("Form control uploadWorkPermitPath not found in directorForm")},s.onerror=u=>{console.error("Error reading file:",u)},s.readAsDataURL(o)}}onFileChangeUploadSign(e){const o=e.target.files[0],p=document.querySelector("#uploadSignPath");if(console.log(o.name),!o)return console.error("No file selected."),c().fire("No file selected."),void(p&&(p.value=""));if(!["image/png","image/jpeg"].includes(o.type))return console.error("Invalid file type. Only Image is allowed."),c().fire("Invalid file type. Only Image is allowed."),void(p&&(p.value=""));if(o.size>5242880)return console.error("File size exceeds the limit."),c().fire("File size exceeds the limit."),void(p&&(p.value=""));{const s=new FileReader;s.onload=()=>{const u=s.result.split(",")[1],_=this.aocParticularForm.get("uploadSignPath");_?(console.log("Updating form control: uploadSignPath"),_.patchValue(u),this.aocParticularForm.value.signFetchFromDb=!1):console.error("Form control uploadSignPath not found in aocParticularForm")},s.onerror=u=>{console.error("Error reading file:",u)},s.readAsDataURL(o)}}onFileChangeCompanySeal(e){const o=e.target.files[0],p=document.querySelector("#uploadCompanySealPath");if(console.log(o.name),!o)return console.error("No file selected."),c().fire("No file selected."),void(p&&(p.value=""));if(!["image/png","image/jpeg"].includes(o.type))return console.error("Invalid file type. Only Image is allowed."),c().fire("Invalid file type. Only Image is allowed."),void(p&&(p.value=""));if(o.size>5242880)return console.error("File size exceeds the limit."),c().fire("File size exceeds the limit."),void(p&&(p.value=""));{const s=new FileReader;s.onload=()=>{const u=s.result.split(",")[1],_=this.aocParticularForm.get("uploadCompanySealPath");_?(console.log("Updating form control: uploadCompanySealPath"),_.patchValue(u),this.aocParticularForm.value.sealFetchFromDb=!1):console.error("Form control uploadCompanySealPath not found in aocParticularForm")},s.onerror=u=>{console.error("Error reading file:",u)},s.readAsDataURL(o)}}onSubmitParticular(){this.aocParticularForm.value.userId=this.userId;const e=this.aocParticularForm.get("typeOfCommodities")?.value,o=JSON.stringify(e);this.aocParticularForm.value.typeOfCommodities=o,this.aocParticularForm.valid?c().fire({title:"Are you sure?",text:"Do you want to submit the form?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(n=>{n.isConfirmed&&this.conformityService.addParticular(this.aocParticularForm.value).subscribe({next:a=>{console.log(a),200==a.status?(c().fire({title:"Success!",text:"Particular added successfully",icon:"success",confirmButtonText:"OK"}),this.intPoaId=a.intAocParticularId):500==a.status&&c().fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"OK"})},error:a=>{console.log(a),c().fire({title:"Error!",text:"Failed to add particular",icon:"error",confirmButtonText:"OK"})}})}):(this.checkFormValidity(this.aocParticularForm),c().fire({title:"Error!",text:"Please fill all the required fields",icon:"error"}))}checkFormValidity(e){Object.keys(e.controls).forEach(o=>{const n=e.get(o);n instanceof l.cw||n instanceof l.Oe?this.checkFormValidity(n):n?.invalid&&(n.markAsDirty(),console.log(`Control ${o} is invalid. Errors:`,n.errors))})}resetParticular(){this.aocParticularForm.reset(),this.directorForm.reset(),this.directors.clear();const e=document.querySelector("#uploadSignPath");e&&(e.value="");const o=document.querySelector("#uploadCompanySealPath");o&&(o.value="")}gotoSupportingDocTab(){const e=document.getElementById("support_document-tab");e&&e.click()}firstTabMethod(){}checkDraftStatusSecondPage(e){this.apiService.getData(`${g.N.getAocDraftStatusSecondPageUrl}/${e}`,e).subscribe({next:o=>{null==o.result?console.log("there is no data to show please fillup the form"):this.apiService.getData(`${g.N.getAocDataSecondPageUrl}/${o.result}`,o.result).subscribe({next:n=>{200===n.status&&(console.log(n),this.patchSupportingDocumentsForm(n.result))},error:n=>{console.log(n)}})},error:o=>{console.log(o)}})}patchSupportingDocumentsForm(e){this.supportingDocumentsForm.patchValue({supportDocId:e.id,businessPlanPath:e.businessPlanPath,intParticularOfApplicantsId:e.particularOfApplicants.id,businessPlanPathFetchFromDb:!0,taxComplianceCertificatePath:e.taxComplianceCertificatePath,taxComplianceCertificatePathFetchFromDb:!0,goodConductCertificatePath:e.goodConductCertificatePath,goodConductCertificatePathFetchFromDb:!0,identificationProofPath:e.identificationProofPath,identificationProofPathFetchFromDb:!0,insurancePolicyPath:e.insurancePolicyPath,insurancePolicyPathFetchFromDb:!0,licenseForTheWarehousePath:e.licenseForTheWarehousePath,licenseForTheWarehousePathFetchFromDb:!0,certificateOfRegistrationPath:e.certificateOfRegistrationPath,certificateOfRegistrationPathFetchFromDb:!0})}onFileChangeSupportingDocs(e){const o=e.target.files[0],n=e.target.id,a=n+"FetchFromDb",s=document.querySelector("#"+n);if(!o)return console.error("No file selected."),c().fire({title:"Error!",text:"No file selected.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));if(!["application/pdf"].includes(o.type))return console.error("Invalid file type. Only PDFs are allowed."),c().fire({title:"Error!",text:"Invalid file type. Only PDFs are allowed.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));if(o.size>5242880)return console.error("File size exceeds the limit."),c().fire({title:"Error!",text:"File size exceeds the limit.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));{const u=new FileReader;u.onload=()=>{const _=u.result.split(",")[1],d=this.supportingDocumentsForm;d?d.patchValue({[n]:_,[a]:!1}):(console.error("Form control not found in supportingDocumentsForm"),c().fire({title:"Error!",text:"There is some error!",icon:"error",confirmButtonText:"OK"}))},u.onerror=_=>{console.error("Error reading file:",_),c().fire({title:"Error!",text:"There is some error!",icon:"error",confirmButtonText:"OK"})},u.readAsDataURL(o)}}onSubmitSupportingDocuments(){console.log(this.intPoaId),this.supportingDocumentsForm.value.userId=this.userId,(null!=this.intPoaId||null!=this.intPoaId)&&(this.supportingDocumentsForm.value.intParticularOfApplicantsId=this.intPoaId),this.supportingDocumentsForm.valid?(console.log(this.supportingDocumentsForm.value),c().fire({title:"Are you sure?",text:"Do you want to submit the form?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&this.conformityService.addSupportingDocs(this.supportingDocumentsForm.value).subscribe({next:o=>{console.log(o),200==o.status&&c().fire({title:"Success!",text:"Supporting Documents added successfully",icon:"success",confirmButtonText:"OK"})},error:o=>{console.log(o),c().fire({title:"Error!",text:"Failed to add particular",icon:"error",confirmButtonText:"OK"})}})})):(this.checkFormValidity(this.supportingDocumentsForm),c().fire("Error!","Please fill in all the required fields","error"),console.log("Form is invalid"))}resetSupportingDocs(){this.supportingDocumentsForm.reset(),["#businessPlanPath","#taxComplianceCertificatePath","#goodConductCertificatePath","#identificationProofPath","#insurancePolicyPath","#licenseForTheWarehousePath","#certificateOfRegistrationPath"].forEach(o=>{const n=document.querySelector(o);n&&(n.value="")})}gotoOperatorViabilityTab(){const e=document.getElementById("warehouse_operator-tab");e&&e.click()}secondTabMethod(){}checkDraftStatusThirdPage(e){this.apiService.getData(`${g.N.getAocDraftStatusThirdPageUrl}/${e}`,e).subscribe({next:o=>{null==o.result?console.log("there is no data to show please fillup the form"):this.apiService.getData(`${g.N.getAocDataThirdPageUrl}/${o.result}`,o.result).subscribe({next:n=>{200===n.status&&(console.log(n),this.patchViabilityForm(n.result),console.log(this.viabilityForm.value))},error:n=>{console.log(n)}})},error:o=>{console.log(o)}})}patchViabilityForm(e){this.viabilityForm.patchValue({userId:e.userId,viabilityId:e.id,intParticularOfApplicantsId:e.particularOfApplicants.id,companyRegistrationCertificatePath:e.companyRegistrationCertificatePath,companyRegistrationCertificatePathFetchFromDb:!0,businessPermitPath:e.businessPermitPath,businessPermitPathFetchFromDb:!0,businessStrategicPlanPath:e.businessStrategicPlanPath,businessStrategicPlanPathFetchFromDb:!0,leaseAgreementPath:e.leaseAgreementPath,leaseAgreementPathFetchFromDb:!0,titleDeedPath:e.titleDeedPath,titleDeedPathFetchFromDb:!0,assetRegister:e.assetRegister,assetRegisterFetchFromDb:!0,recommendationLettersPath:e.recommendationLettersPath,recommendationLettersPathFetchFromDb:!0,certificationPath:e.certificationPath,certificationPathFetchFromDb:!0,businessOpportunity:e.businessOpportunity,businessOpportunityFetchFromDb:!0,customerBasePath:e.customerBasePath,customerBasePathFetchFromDb:!0,productionOfTargetAreasPath:e.productionOfTargetAreasPath,productionOfTargetAreasPathFetchFromDb:!0,supplyVolumesPath:e.supplyVolumesPath,supplyVolumesPathFetchFromDb:!0,financialProjectionsPath:e.financialProjectionsPath,financialProjectionsPathFetchFromDb:!0,auditedFinancialReportPath:e.auditedFinancialReportPath,auditedFinancialReportPathFetchFromDb:!0,fireInsurancePolicyPath:e.fireInsurancePolicyPath,fireInsurancePolicyPathFetchFromDb:!0,theftInsurancePolicyPath:e.theftInsurancePolicyPath,theftInsurancePolicyPathFetchFromDb:!0,naturalCalamityInsurancePolicyPath:e.naturalCalamityInsurancePolicyPath,naturalCalamityInsurancePolicyPathFetchFromDb:!0,performanceBondPath:e.performanceBondPath,performanceBondPathFetchFromDb:!0,businessContinuityPath:e.businessContinuityPath,businessContinuityPathFetchFromDb:!0})}onFileChangeOperatorViability(e){const o=e.target.files[0],n=e.target.id,a=n+"FetchFromDb",s=document.querySelector("#"+n);if(!o)return console.error("No file selected."),c().fire({title:"Error!",text:"No file selected.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));if(!["application/pdf"].includes(o.type))return console.error("Invalid file type. Only PDFs are allowed."),c().fire({title:"Error!",text:"Invalid file type. Only PDFs are allowed.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));if(o.size>5242880)return console.error("File size exceeds the limit."),c().fire({title:"Error!",text:"File size exceeds the limit.",icon:"error",confirmButtonText:"OK"}),void(s&&(s.value=""));{const u=new FileReader;u.onload=()=>{const _=u.result.split(",")[1],d=this.viabilityForm;d?d.patchValue({[n]:_,[a]:!1}):(console.error("Form control not found in viabilityForm"),c().fire({title:"Error!",text:"There is some error!",icon:"error",confirmButtonText:"OK"}))},u.onerror=_=>{console.error("Error reading file:",_),c().fire({title:"Error!",text:"There is some error!",icon:"error",confirmButtonText:"OK"})},u.readAsDataURL(o)}}onSubmitViabilityForm(){this.viabilityForm.value.userId=this.userId,(null!=this.intPoaId||null!=this.intPoaId)&&(this.viabilityForm.value.intParticularOfApplicantsId=this.intPoaId),this.viabilityForm.valid?(console.log(this.viabilityForm.value),c().fire({title:"Are you sure?",text:"Do you want to submit the form?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&this.conformityService.addOperatorViability(this.viabilityForm.value).subscribe({next:o=>{console.log(o),200==o.status&&c().fire({title:"Success!",text:"Operator Viability Docs added successfully",icon:"success",confirmButtonText:"OK"})},error:o=>{console.log(o),c().fire({title:"Error!",text:"Failed to add Operator Viablity Docs",icon:"error",confirmButtonText:"OK"})}})})):(c().fire("Error!","Please fill in all the required fields","error"),console.log("Form is invalid"))}resetOperatorViability(){this.viabilityForm.reset(),["#companyRegistrationCertificatePath","#businessPermitPath","#businessStrategicPlanPath","#leaseAgreementPath","#titleDeedPath","#assetRegister","#recommendationLettersPath","#certificationPath","#businessOpportunity","#customerBasePath","#productionOfTargetAreasPath","#supplyVolumesPath","#financialProjectionsPath","#auditedFinancialReportPath","#fireInsurancePolicyPath","#theftInsurancePolicyPath","#naturalCalamityInsurancePolicyPath","#performanceBondPath","#businessContinuityPath"].forEach(o=>{const n=document.querySelector(o);n&&(n.value="")})}gotoPaymentTab(){const e=document.getElementById("payment_details-tab");e&&e.click()}thirdTabMethod(){}downloadFile(e,o){this.fileService.downloadFile(e,o)}onSubmitApplication(){if(this.paymentForm.valid&&1==this.paymentForm.get("declaration").value){const e={userId:this.userId,paymentType:this.paymentForm.get("paymentType")?.value,intParticularOfApplicantsId:this.intPoaId};console.log(this.paymentForm.value),console.log(e),c().fire({title:"Are you sure?",text:"Do you want to submit the form?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(o=>{o.isConfirmed&&this.conformityService.addPaymentDetails(e).subscribe({next:n=>{if(console.log(n),200==n.status){c().fire({title:"Payment Successful",html:'<h5>Your Application Id for Conformity is <span class="color-id">'+n.id+"</span></h5> <p>Application Id has been sent to your email Address.</p>",imageUrl:"assets/img/correct.png",imageWidth:80,imageHeight:80,showCloseButton:!0,showConfirmButton:!1,confirmButtonText:"Sign In",customClass:{title:"swal2-title-custom",confirmButton:"swal2-confirm-custom",popup:"swal2-responsive-width"}});const a=document.createElement("style");a.innerHTML="\n      .swal2-title-custom {\n          font-size: 20px !important;\n          padding-bottom: 1.5rem;\n          border-bottom: 1px solid rgba(112, 112, 112, .4);\n          margin-bottom: 0.8rem;\n          padding-top: 0;\n      }\n      .swal2-confirm-custom {\n          background-color: #E6A82E!important;\n          box-shadow:none!important;\n      }\n      .swal2-confirm-custom:hover {\n          background-color: #ff9800!important;\n      }\n      .swal2-responsive-width {\n          width: 80% !important;\n          padding: 1.25em;\n      }\n      .swal2-html-container h5 {\n        font-size: 1.125rem;\n        font-weight: 600;\n    }\n    .swal2-html-container h5 .color-id {\n      color: #4BAE4F;\n  }\n  .swal2-html-container p {\n    color: #373737;\n    font-size: 1rem;\n}\n.swal2-close {\n  color: #E83737;\n  width: 26px;\n  height: 26px;\n  border: 1px solid #e83737;\n  font-size: 1.2rem;\n  border-radius: 50%;\n  align-items: center;\n  justify-content: center;\n  transition: all .3s;\n}\n.swal2-close:hover{\n  background-color: #E83737;\n  color: #fff;\n}\n.swal2-close:focus{\n  outline: none;\n  box-shadow: none;\n}\n      @media (min-width: 640px)\n      {\n          .swal2-responsive-width {\n              width: 600px !important;\n          }\n     \n          .swal2-title-custom {\n              font-size: 25px !important;\n          }\n      }\n  }\n  ",document.head.appendChild(a),this.goBack()}else 500==n.status?c().fire({title:"Error",text:"Internal Server Error",icon:"error",confirmButtonText:"Ok"}):403==n.status?c().fire({title:"Error",text:"Payment Failed",icon:"error"}):400==n.status&&("You have not completed the application"==n.id?c().fire({title:"Error",text:"You have not completed the application",icon:"error"}):"You have not started the application."==n.id&&c().fire({title:"Error",text:"You have not started the application.",icon:"error"}))},error:n=>{c().fire({title:"Error",text:"Check properly all the data and documents which you have submitted before payement",icon:"error",confirmButtonText:"Ok"})}})})}}goBack(){}showAocList(){this.apiService.getData(`${g.N.GetAllApplicantsWithPaginationURL}`).subscribe({next:e=>{console.log(e.result.content),this.applicationConformityList=e.result.content,this.totalPages=e.result.totalPages,this.pages=Array.from({length:this.totalPages},(o,n)=>n+1)},error:e=>{console.error(e),c().fire("Error","There is some error while fetching all the data","error")}})}onPageChange(e){e>=0&&e<this.totalPages&&(this.page=e,this.showAocList())}downloadCert(e){let o=sessionStorage.getItem("breadcrumbData"),n=JSON.parse(o);this.route.navigate(["/admin/generate-certificate-conformity",e],{state:n})}editAocData(e){this.apiService.getData(`${g.N.getAocByIdUrl}/${e}`,e).subscribe({next:o=>{console.log(o.result),this.isEditMode=!0,this.patchValueAocPoa(o.result.particularOfApplicantsId),this.patchValueAocSdoc(o.result.supportingDocumentId),this.patchValueAocOpViabilty(o.result.viabilityId),this.gotoAddPage()},error:o=>{console.error(o),c().fire("Error","There is some error while fetching all the data","error")}})}patchValueAocPoa(e){const o=e.typeOfCommodities;console.log(o);const n=o.replace(/\\"/g,'"'),a=JSON.parse(n);this.aocParticularForm.patchValue({intParticularOfApplicantsId:e.id,applicantFullName:e.applicantFullName,postalAddress:e.postalAddress,postalCode:e.postalCode,town:e.town,mobilePhoneNumber:e.mobilePhoneNumber,email:e.email,website:e.website,companyRegistrationNumber:e.companyRegistrationNumber,kraPin:e.kraPin,lrNumber:e.lrNumber,countyId:e.countyId.id,subCountyId:e.subCountyId.intId,ward:e.ward,streetName:e.streetName,building:e.building,typeOfCommodities:a,storageCapacity:e.storageCapacity,authorizedSignName:e.authorizedSignName,authorizedSignTitle:e.authorizedSignTitle,uploadSignPath:e.uploadSignPath,signFetchFromDb:!0,uploadCompanySealPath:e.uploadCompanySealPath,sealFetchFromDb:!0,shop:e.shop,unit:e.unitId.unitId,draftStatus:e.bitDraftStatusFlag}),this.apiService.getData(g.N.subCountyGetByCountyURL+"/"+e.countyId.id).subscribe({next:p=>{console.log(p),this.subCountyList=p.result},error:p=>{console.log(p)}});const r=this.aocParticularForm.get("directors");r.clear(),e.directors.forEach(p=>{r.push(this.fb.group({directorDetailId:p.id,directorName:p.directorName,nationalityId:p.nationality.intNationalityId,passportNumber:p.passportNumber,uploadWorkPermitPath:p.uploadWorkPermitPath,fetchFromDb:!0}))}),console.log(this.aocParticularForm.value)}patchValueAocSdoc(e){console.log(e.particularOfApplicants.id),this.supportingDocumentsForm.patchValue({supportDocId:e.id,businessPlanPath:e.businessPlanPath,intParticularOfApplicantsId:e.particularOfApplicants.id,businessPlanPathFetchFromDb:!0,taxComplianceCertificatePath:e.taxComplianceCertificatePath,taxComplianceCertificatePathFetchFromDb:!0,goodConductCertificatePath:e.goodConductCertificatePath,goodConductCertificatePathFetchFromDb:!0,identificationProofPath:e.identificationProofPath,identificationProofPathFetchFromDb:!0,insurancePolicyPath:e.insurancePolicyPath,insurancePolicyPathFetchFromDb:!0,licenseForTheWarehousePath:e.licenseForTheWarehousePath,licenseForTheWarehousePathFetchFromDb:!0,certificateOfRegistrationPath:e.certificateOfRegistrationPath,certificateOfRegistrationPathFetchFromDb:!0,draftStatus:e.bitDraftStatusFlag})}patchValueAocOpViabilty(e){this.viabilityForm.patchValue({userId:e.userId,viabilityId:e.id,intParticularOfApplicantsId:e.particularOfApplicants.id,companyRegistrationCertificatePath:e.companyRegistrationCertificatePath,companyRegistrationCertificatePathFetchFromDb:!0,businessPermitPath:e.businessPermitPath,businessPermitPathFetchFromDb:!0,businessStrategicPlanPath:e.businessStrategicPlanPath,businessStrategicPlanPathFetchFromDb:!0,leaseAgreementPath:e.leaseAgreementPath,leaseAgreementPathFetchFromDb:!0,titleDeedPath:e.titleDeedPath,titleDeedPathFetchFromDb:!0,assetRegister:e.assetRegister,assetRegisterFetchFromDb:!0,recommendationLettersPath:e.recommendationLettersPath,recommendationLettersPathFetchFromDb:!0,certificationPath:e.certificationPath,certificationPathFetchFromDb:!0,businessOpportunity:e.businessOpportunity,businessOpportunityFetchFromDb:!0,customerBasePath:e.customerBasePath,customerBasePathFetchFromDb:!0,productionOfTargetAreasPath:e.productionOfTargetAreasPath,productionOfTargetAreasPathFetchFromDb:!0,supplyVolumesPath:e.supplyVolumesPath,supplyVolumesPathFetchFromDb:!0,financialProjectionsPath:e.financialProjectionsPath,financialProjectionsPathFetchFromDb:!0,auditedFinancialReportPath:e.auditedFinancialReportPath,auditedFinancialReportPathFetchFromDb:!0,fireInsurancePolicyPath:e.fireInsurancePolicyPath,fireInsurancePolicyPathFetchFromDb:!0,theftInsurancePolicyPath:e.theftInsurancePolicyPath,theftInsurancePolicyPathFetchFromDb:!0,naturalCalamityInsurancePolicyPath:e.naturalCalamityInsurancePolicyPath,naturalCalamityInsurancePolicyPathFetchFromDb:!0,performanceBondPath:e.performanceBondPath,performanceBondPathFetchFromDb:!0,businessContinuityPath:e.businessContinuityPath,businessContinuityPathFetchFromDb:!0,draftStatus:e.bitDraftStatusFlag})}gotoViewPage(){const e=document.getElementById("view-tab");e&&e.click()}gotoAddPage(){const e=document.getElementById("add-tab");e&&e.click()}nextStep(){this.currentStep<this.totalSteps&&(this.currentStep++,1==this.currentStep?this.checkDraftStatusFirstPage(this.userId):2==this.currentStep?this.checkDraftStatusSecondPage(this.userId):3==this.currentStep&&this.checkDraftStatusThirdPage(this.userId))}prevStep(){this.currentStep>1&&(this.currentStep--,1==this.currentStep?this.checkDraftStatusFirstPage(this.userId):2==this.currentStep?this.checkDraftStatusSecondPage(this.userId):3==this.currentStep&&this.checkDraftStatusThirdPage(this.userId))}checkActionHistory(e){this.apiService.getData(`${g.N.saveAocRemarksUrl}/${e}`,e).subscribe({next:o=>{this.actionHistoryList=o.result,console.log(this.actionHistoryList)},error:o=>{console.error("Error fetching action history:",o)}})}gotoadd(){this.route.navigate(["/web/complaint-form"])}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(k.s),t.Y36(l.qu),t.Y36(M.s),t.Y36(y.sK),t.Y36(C.F0),t.Y36(ne.n),t.Y36(oe.H7),t.Y36(T.q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-complaint-tracker"]],decls:69,vars:16,consts:[[1,"page-title"],[1,"card"],["id","AdminTab",1,"nav","nav-tabs"],[1,"nav-item"],["id","add-tab","data-bs-toggle","tab","data-bs-target","#add","type","button","role","tab","aria-controls","add","aria-selected","false",1,"nav-link",3,"click"],["id","view-tab","data-bs-toggle","tab","data-bs-target","#view","type","button","role","tab","aria-controls","view","aria-selected","true",1,"nav-link","active"],["id","myTabContent",1,"tab-content"],["id","view","role","tabpanel","aria-labelledby","view-tab",1,"tab-pane","fade","show","active"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pb-3"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["id","view-history-Modal","tabindex","-1","aria-labelledby","view-historyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","pledging-dischargeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"timeline"],[1,"timeline-container"],["class","timeline-continue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[3,"ngSwitch"],["class","badge badge-success text-success",4,"ngSwitchCase"],["class","badge badge-danger text-danger",4,"ngSwitchCase"],["class","badge badge-primary text-primary",4,"ngSwitchCase"],["class","badge badge-secondary text-secondary",4,"ngSwitchCase"],["class","badge badge-warning text-primary",4,"ngSwitchDefault"],[4,"ngIf","ngIfElse"],["checkRejected",""],["editLink",""],[1,"badge","badge-success","text-success"],[1,"badge","badge-danger","text-danger"],[1,"badge","badge-primary","text-primary"],[1,"badge","badge-secondary","text-secondary"],[1,"badge","badge-warning","text-primary"],[1,"d-inline-flex","gap-2"],["title","View Action History","data-bs-toggle","modal","data-bs-target","#view-history-Modal",1,"btn","btn-outline-dark","btn-sm",3,"click"],[1,"bi","bi-eye"],["title","Download Certificate",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-download","text-danger"],[1,"btn","btn-outline-dark","btn-sm",3,"click"],[1,"bi","bi-pencil"],[1,"page-link",3,"click"],[1,"timeline-continue"],[1,"row",3,"ngClass"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[1,"timeline-date"],[1,"timeline-box"],[1,"timeline-text"],[1,"badge","text-bg-success"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",1)(5,"ul",2)(6,"li",3)(7,"button",4),t.NdJ("click",function(){return n.gotoadd()}),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",3)(11,"button",5),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"div",6)(15,"div",7)(16,"div",8)(17,"table",9)(18,"thead")(19,"tr")(20,"th"),t._uU(21,"Sl#"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Application ID"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Date of Application"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"LR No."),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Commodities to be Warehoused"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Shop Details"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Building"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"County"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Sub-County"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Application Status"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Actions"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,ge,33,20,"tr",10),t.qZA()()(),t.TgZ(44,"nav",11)(45,"ul",12)(46,"li",13)(47,"a",14),t.NdJ("click",function(){return n.onPageChange(n.page-1)}),t.TgZ(48,"span",15),t._uU(49,"\xab"),t.qZA()()(),t.YNc(50,he,3,3,"li",16),t.TgZ(51,"li",13)(52,"a",17),t.NdJ("click",function(){return n.onPageChange(n.page+1)}),t.TgZ(53,"span",15),t._uU(54,"\xbb"),t.qZA()()()()()()(),t.TgZ(55,"div",18)(56,"div",19)(57,"div",20)(58,"div",21)(59,"h5",22),t._uU(60,"View History"),t.qZA(),t._UZ(61,"button",23),t.qZA(),t.TgZ(62,"div",24)(63,"div",25)(64,"div",26),t.YNc(65,Ce,7,4,"div",27),t.qZA()()(),t.TgZ(66,"div",28)(67,"button",29),t._uU(68,"Close"),t.qZA()()()()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,10,"Application / Renewal for warehouse operator\u2019s certificate of Conformity")),t.xp6(6),t.Oqu(t.lcZ(9,12,"Add")),t.xp6(4),t.Oqu(t.lcZ(13,14,"View")),t.xp6(31),t.Q6J("ngForOf",n.applicationConformityList),t.xp6(3),t.ekj("disabled",0===n.page),t.xp6(4),t.Q6J("ngForOf",n.pages),t.xp6(1),t.ekj("disabled",n.page===n.totalPages-1),t.xp6(14),t.Q6J("ngForOf",n.actionHistoryList))},dependencies:[f.mk,f.sg,f.O5,f.RF,f.n9,f.ED,y.X$,f.uU,ie.l],styles:['.btn-outline-danger[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff!important}.fs-6[_ngcontent-%COMP%]{font-size:.8rem!important}.stepper[_ngcontent-%COMP%]{width:100%;margin:2rem 0rem 3rem}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}.stepper[_ngcontent-%COMP%]   .stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;position:relative;text-align:center;display:table-cell}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f633";font-family:bootstrap-icons!important;width:25px;height:25px;line-height:25px;border:1px solid #ddd;border-radius:100%;display:block;text-align:center;margin:0 auto 10px;background-color:#d7d7d7;color:#6e6e6e;z-index:1;position:relative}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;top:13px;left:-50%;border-bottom:2px dotted rgba(0,19,0,.07)}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#22a851}.stepper_item[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{background:#22a851;color:#fff;border:#22a851}@media (max-width: 1440px){.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 .8rem}}@media (max-width: 991px){.stepper[_ngcontent-%COMP%]{overflow:auto}.stepper_item[_ngcontent-%COMP%]{table-layout:auto}.stepper_item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:120px}}.timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:30px 0}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;width:100%}.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{position:absolute;content:"";width:1px;height:100%;top:0;left:50%;margin-left:-1px;background:#dddddd}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-continue[_ngcontent-%COMP%]:after{left:0%}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{text-align:left}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{font-size:14px;margin:41px 0 0;font-weight:600;position:relative}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{margin:0 0 0 16px}}.timeline[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:14px;height:14px;top:0;background:linear-gradient(#dddddd,#4d4e4f);box-shadow:0 0 5px #0006;border-radius:15px;z-index:1}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:101%}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-23px}}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-4%}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:15px;padding:20px;border:1px solid #dddddd;border-radius:6px;background:#ffffff;width:95%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]{width:100%;margin:15px 0;padding:0;border:none;text-align:center;background:transparent}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{display:none}}.timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-left[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:100%}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{right:100%}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{left:50%;margin-left:-10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:26px;border-color:transparent transparent transparent #ffffff;border-width:10px}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:25px;border-color:transparent transparent transparent #dddddd;border-width:11px}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{border-color:transparent #ffffff transparent transparent}.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{border-color:transparent #dddddd transparent transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:after{top:-20px;border-color:transparent transparent #dddddd transparent}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]:before{top:-19px;border-color:transparent transparent #ffffff transparent;border-width:10px;z-index:1}.timeline[_ngcontent-%COMP%]   .timeline-box[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{position:relative;width:calc(100% - 40px);float:left}.timeline[_ngcontent-%COMP%]   .timeline-launch[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]{width:100%}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:400;margin-bottom:1rem}.timeline[_ngcontent-%COMP%]   .timeline-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400}@media (max-width: 992px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:-5%}}@media (max-width: 768px){.timeline[_ngcontent-%COMP%]   .row.timeline-right[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]:after{right:unset;left:-24px}}@media (max-width: 768px){.timeline-left[_ngcontent-%COMP%]{flex-direction:column-reverse}.timeline[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(4)   .timeline-box[_ngcontent-%COMP%]{margin-bottom:0}}.form-label[_ngcontent-%COMP%]{font-size:.938rem}.payment-card-details[_ngcontent-%COMP%]{background-color:#deebe4;border-radius:10px;border:none;padding:1.6rem 1.5rem}.payment-card-details[_ngcontent-%COMP%]   .payment-title[_ngcontent-%COMP%]{color:#37373780;display:block}.payment-card-details[_ngcontent-%COMP%]   .payment-desc[_ngcontent-%COMP%]{color:#373737;font-size:1rem;font-weight:600}@media screen and (max-width: 768px){.payment-card-details[_ngcontent-%COMP%]   .payment-desc[_ngcontent-%COMP%]{margin-bottom:1rem;display:inline-block}}.payment-card-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem}.paymnet-method[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;gap:1rem;width:264px;height:132px;border:1px solid #707070;border-radius:10px;align-items:flex-start;color:#000;font-weight:500}@media screen and (max-width: 768px){.paymnet-method[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{width:192px;height:auto}}@media screen and (max-width: 425px){.paymnet-method[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{width:100%;height:auto;padding:1rem;flex-direction:column;align-items:center}}.paymnet-method[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#227b4b}.paymnet-method[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%] > .btn.dropdown-toggle-split[_ngcontent-%COMP%]:first-child, .paymnet-method[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){margin-right:1rem}.paymnet-method[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:active + .btn[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn.show[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{background-color:#227b4b;color:#fff;box-shadow:none}.paymnet-method[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:active + .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn.show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .paymnet-method[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:#fff}.paymnet-method[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#227b4b!important;background-color:#deebe4!important;border-color:#deebe4;transition:1s ease-in-out}.paymnet-method[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#227b4b!important}']})}return i})()}];let xe=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[C.Bz.forChild(be),C.Bz]})}return i})();var Pe=h(32267),ve=h(32898),ye=h(60577);let Oe=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[w.JX,l.u5,l.UX,Pe.X,f.ez,xe,ve.D,ye.o]})}return i})()}}]);